"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[5890],{42114:(e,t,n)=>{n.d(t,{A:()=>l});var a,r,i,s=n(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const l=e=>{let{title:t,titleId:n,...l}=e;return s.createElement("svg",o({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?s.createElement("title",{id:n},t):null,a||(a=s.createElement("path",{d:"M1 0v6h6",stroke:"#C1C6E5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=s.createElement("path",{d:"M1 6c2.327-2.089 4.483-4.453 7.745-4.912a9.001 9.001 0 0 1 9.469 5.234M19 18v-6h-6",stroke:"#C1C6E5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.createElement("path",{d:"M19 12c-2.327 2.089-4.483 4.453-7.745 4.912a9.001 9.001 0 0 1-9.469-5.234",stroke:"#C1C6E5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},81585:(e,t,n)=>{n.d(t,{A:()=>l});var a,r,i,s=n(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const l=e=>{let{title:t,titleId:n,...l}=e;return s.createElement("svg",o({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?s.createElement("title",{id:n},t):null,a||(a=s.createElement("path",{d:"M1 0v6h6",stroke:"#001A72",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=s.createElement("path",{d:"M1 6c2.327-2.089 4.483-4.453 7.745-4.912a9.001 9.001 0 0 1 9.469 5.234M19 18v-6h-6",stroke:"#001A72",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.createElement("path",{d:"M19 12c-2.327 2.089-4.483 4.453-7.745 4.912a9.001 9.001 0 0 1-9.469-5.234",stroke:"#001A72",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}},45203:(e,t,n)=>{n.d(t,{X:()=>l,A:()=>c});var a=n(96540);const r="actionIcon_ahPg",i="iconClicked_up19";var s=n(20053),o=n(95293);const l={FADE_IN_OUT:i},c=e=>{let{icon:t,iconDark:n,animation:i=l.FADE_IN_OUT,onClick:c}=e;const{colorMode:h}=(0,o.G)(),[u,m]=a.useState(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>m((()=>!1))),1e3);return()=>clearTimeout(e)}),[u]),a.createElement("div",{onClick:()=>c(u,m),className:(0,s.default)(r,u&&i)},"light"===h?t:n||t)}},2244:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(96540);const r="collapseButton_X7H2",i="arrow_XdVJ";var s;function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const l=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",o({width:12,height:7,viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,s||(s=a.createElement("path",{d:"m1 1 5 5 5-5",stroke:"#001A72",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};var c;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}const u=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",h({width:12,height:7,viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,c||(c=a.createElement("path",{d:"m1 1 5 5 5-5",stroke:"#F8F9FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};var m=n(95293),d=n(20053);const p=e=>{let{label:t,labelCollapsed:n,collapsed:s,onCollapse:o,className:c}=e;const{colorMode:h}=(0,m.G)();return a.createElement("div",{className:(0,d.default)(r,c),"data-collapsed":s,onClick:()=>o()},"light"===h?a.createElement(l,{className:i}):a.createElement(u,{className:i}),a.createElement("button",null,s?n:t))}},87305:(e,t,n)=>{n.d(t,{Db:()=>Ct,Bk:()=>zt,Q6:()=>wt,OQ:()=>Nt,Ay:()=>bt,sA:()=>Mt,Gb:()=>ht,ES:()=>A,VT:()=>Re,_M:()=>Y,xN:()=>se});n(6793);var a=n(96540);const r={wrapper:"wrapper_XzFV",previewWrapper:"previewWrapper_q1SD",container:"container_bOTN",buttonContainer:"buttonContainer_iejS",controls:"controls_gx7o",controlsInput:"controlsInput_g7vl",code:"code_ryyH",row:"row_tWyk",codeWrapper:"codeWrapper_TxSg",label:"label_I9Kd"};var i=n(78478),s=n(22355),o=n(760),l=n(61393),c=n(9176),h=n(78506),u=n(91691),m=n(83562),d=n(66031),p=n(29241),y=n(291),g=n(13843),x=n(27979),f=n(70880),b=n(92220);const _=0,v=200,w=80,z=400,C=100,M={code:"function anonymous(){const{withClamp,options,withRepeat,withSequence,withDelay,withSpring,BOX_STOP,config,withTiming,BOX_START}=this.__closure;return{transform:[{translateX:withClamp({min:options.lowerBound,max:options.upperBound},withRepeat(withSequence(withDelay(2000,withSpring(BOX_STOP,config)),withTiming(BOX_START,{duration:0})),-1,true))}]};}"},E={code:"function anonymous(){const{withRepeat,withSequence,withDelay,withSpring,config,withTiming}=this.__closure;return{transform:[{translateX:withRepeat(withSequence(withDelay(2000,withSpring(200,config)),withTiming(0,{duration:0})),-1,true)}]};}"};function N(e){let{options:t}=e;const n={damping:3},r=(0,m.m)(function(){const e=function(){return{transform:[{translateX:(0,d.A)({min:t.lowerBound,max:t.upperBound},(0,p.E)((0,y.k)((0,g.y)(2e3,(0,x.e)(v,n)),(0,f.f)(_,{duration:0})),-1,!0))}]}};return e.__closure={withClamp:d.A,options:t,withRepeat:p.E,withSequence:y.k,withDelay:g.y,withSpring:x.e,BOX_STOP:v,config:n,withTiming:f.f,BOX_START:_},e.__workletHash=0xc33e012d2b7,e.__initData=M,e}()),i=(0,m.m)(function(){const e=function(){return{transform:[{translateX:(0,p.E)((0,y.k)((0,g.y)(2e3,(0,x.e)(200,n)),(0,f.f)(0,{duration:0})),-1,!0)}]}};return e.__closure={withRepeat:p.E,withSequence:y.k,withDelay:g.y,withSpring:x.e,config:n,withTiming:f.f},e.__workletHash=3251285155869,e.__initData=E,e}());function s(e){let{testedStyle:n,description:r,showClampMarkers:i}=e;return a.createElement(c.A,{style:{width:z,height:C}},a.createElement(c.A,null,i&&a.createElement(c.A,{style:[S.clampMarker,{marginTop:(w-C)/2,borderRightWidth:2,width:t.lowerBound}]})),a.createElement(b.X,{style:[S.movingBox,n]},a.createElement(h.A,{style:S.text},r)),a.createElement(c.A,null,i&&a.createElement(c.A,{style:[S.clampMarker,{borderLeftWidth:2,marginTop:-(w+C)/2,width:z-t.upperBound-w,alignSelf:"flex-end"}]})))}return a.createElement(c.A,{style:S.container},a.createElement(s,{testedStyle:r,description:"Clamped spring",showClampMarkers:!0}),a.createElement(s,{testedStyle:i,description:"Default spring",showClampMarkers:!1}))}const S=u.A.create({container:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:40,paddingBottom:0},clampMarker:{position:"absolute",margin:0,opacity:.5,height:100,borderColor:"#b58df1",borderStyle:"dashed"},movingBox:{height:w,width:w,borderColor:"#b58df1",borderRadius:20,borderWidth:1,alignItems:"center",justifyContent:"center"},text:{color:"#b58df1",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"}}),k={lowerBound:100,upperBound:300};function A(){const[e,t]=(0,a.useState)(k.lowerBound),[n,r]=(0,a.useState)(k.upperBound),i=a.createElement(N,{options:{lowerBound:e,upperBound:n}});return{code:`{\n  width: withClamp(\n    { min: ${e}, max: ${n} },\n    withSpring(width.value)\n  ),\n}\n`,controls:a.createElement(zt,{label:"Clamp limits",min:0,max:400,step:10,value:[e,n],onChange:[t,r]}),example:i,resetOptions:()=>{t(k.lowerBound),r(k.upperBound)}}}var T=n(80101),F=n(50014),R=n(29635),O=n(49253);const I=-200,X={code:"function anonymous(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function D(e){let{options:t}=e;const n=(0,F.U)(I),r=(0,o.I)(),i=t.reduceMotion===R.Pf.Always||t.reduceMotion===R.Pf.System&&r,s=e=>{setTimeout((()=>{e&&(n.value=I,h(!1))}),1e3)},[l,h]=(0,a.useState)(!1),u=(0,m.m)(function(){const e=function(){return{transform:[{translateX:n.value}]}};return e.__closure={offset:n},e.__workletHash=0xf945d52c70d,e.__initData=X,e}());return(0,a.useEffect)((()=>{(0,O.px)(n),n.value=I}),[t]),(0,a.useEffect)((()=>{if(i)return;const e=setInterval((()=>{n.value=(0,x.e)(-I,t,s)}),1e3);return()=>clearInterval(e)}),[t,i]),a.createElement(c.A,{style:V.container},a.createElement(b.X,{style:[V.box,u]}),a.createElement(c.A,{style:[V.box,V.ghost]}),i&&a.createElement(T.A,{disabled:l,title:"start",onPress:()=>{h(!0),n.value=(0,x.e)(-I,t,s)}}))}const V=u.A.create({container:{flex:1,alignItems:"center",marginTop:64,marginBottom:34},box:{height:100,width:100,backgroundColor:"#b58df1",borderRadius:20,marginBottom:30},ghost:{opacity:.3,position:"absolute",transform:[{translateX:I}]}}),P={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,duration:2e3,dampingRatio:.5,reduceMotion:R.Pf.System};function Y(){const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(P.damping),[i,s]=(0,a.useState)(P.mass),[o,l]=(0,a.useState)(P.stiffness),[c,h]=(0,a.useState)(P.overshootClamping),[u,m]=(0,a.useState)(P.restDisplacementThreshold),[d,p]=(0,a.useState)(P.restSpeedThreshold),[y,g]=(0,a.useState)(P.duration),[x,f]=(0,a.useState)(P.dampingRatio),[b,_]=(0,a.useState)(P.reduceMotion),v=`\n    withSpring(sv.value, {\n      ${e?`mass: ${i},\n      damping: ${n},`:`duration: ${y},\n      dampingRatio: ${x},`}\n      stiffness: ${o},\n      overshootClamping: ${c},\n      restDisplacementThreshold: ${u},\n      restSpeedThreshold: ${d},\n      reduceMotion: ${Mt(b)},\n    })\n  `,w=a.createElement(a.Fragment,null,a.createElement("ul",{role:"tablist"},a.createElement("li",{role:"tab",className:`tabs__item tabItem_node_modules-@docusaurus-theme-classic-lib-theme-Tabs-styles-module ${e&&"tabs__item--active"}`,onClick:()=>t(!0)},"Physics-based"),a.createElement("li",{className:`tabs__item tabItem_node_modules-@docusaurus-theme-classic-lib-theme-Tabs-styles-module ${!e&&"tabs__item--active"}`,role:"tab",onClick:()=>t(!1)},"Duration-based")),e?a.createElement(a.Fragment,null,a.createElement(wt,{label:"Mass",min:1,max:20,step:.1,value:i,onChange:s}),a.createElement(wt,{label:"Damping",min:1,max:100,value:n,onChange:r})):a.createElement(a.Fragment,null,a.createElement(wt,{label:"Duration",min:1,max:5e3,step:50,value:y,onChange:g}),a.createElement(wt,{label:"Damping ratio",min:.1,max:3,step:.1,value:x,onChange:f})),a.createElement(wt,{label:"Stiffness",min:1,max:500,value:o,onChange:l}),a.createElement(Ct,{label:"Clamp",value:c,onChange:h}),a.createElement(wt,{label:"Displacement threshold",min:.01,max:150,step:.01,value:u,onChange:m}),a.createElement(wt,{label:"Speed threshold",min:.01,max:150,step:.01,value:d,onChange:p}),a.createElement(Nt,{label:"Reduce motion",value:b,onChange:e=>_(e),options:[R.Pf.System,R.Pf.Always,R.Pf.Never]})),z=e?{mass:i,damping:n}:{duration:y,dampingRatio:x},C={stiffness:o,overshootClamping:c,restDisplacementThreshold:u,restSpeedThreshold:d,reduceMotion:b};return{example:a.createElement(D,{options:{...z,...C}}),controls:w,code:v,resetOptions:()=>{r((()=>P.damping)),s((()=>P.mass)),g((()=>P.duration)),f((()=>P.dampingRatio)),l((()=>P.stiffness)),h((()=>P.overshootClamping)),m((()=>P.restDisplacementThreshold)),p((()=>P.restSpeedThreshold))},additionalComponents:{}}}const B=-200,$={code:"function anonymous(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function q(e){let{options:t}=e;const n=(0,F.U)(B),r=(0,o.I)(),i=t.reduceMotion===R.Pf.Always||t.reduceMotion===R.Pf.System&&r,s=e=>{setTimeout((()=>{e&&(n.value=B,h(!1))}),i?1e3:t.duration)},[l,h]=(0,a.useState)(!1),u=(0,m.m)(function(){const e=function(){return{transform:[{translateX:n.value}]}};return e.__closure={offset:n},e.__workletHash=0xf945d52c70d,e.__initData=$,e}());return(0,a.useEffect)((()=>{(0,O.px)(n),n.value=B}),[t]),(0,a.useEffect)((()=>{if(i)return;const e=setInterval((()=>{n.value=(0,f.f)(-B,t,s)}),t.duration);return()=>clearInterval(e)}),[t,i]),a.createElement(c.A,{style:Z.container},a.createElement(b.X,{style:[Z.box,u]}," "),a.createElement(c.A,{style:[Z.box,Z.ghost]}),i&&a.createElement(T.A,{disabled:l,title:"start",onPress:()=>{h(!0),n.value=(0,f.f)(-B,t,s)}}))}const Z=u.A.create({container:{flex:1,alignItems:"center",marginTop:64,marginBottom:34},box:{height:100,width:100,backgroundColor:"#b58df1",borderRadius:20,marginBottom:30},ghost:{opacity:.3,position:"absolute",transform:[{translateX:B}]}}),j={collapseButton:"collapseButton_NCT1"};var L=n(24524);const G="graph_YRb5";var W=n(38952);const H="handle_oY_u";var U=n(55794),Q=n.n(U);const J=e=>{let{label:t,startingPoint:n,bounds:r,pointMoveHandler:i,pointControls:s}=e;const[o,l]=(0,a.useState)({x:n.x,y:n.y});return(0,a.useEffect)((()=>{l({x:s.x,y:s.y})}),[s.x,s.y]),a.createElement(a.Fragment,null,a.createElement(Q(),{position:o,onDrag:(e,t)=>{const{x:n,y:a}=t;l({x:n,y:a}),i({x:n,y:a})},bounds:{top:0,left:0,right:r.x-ee.handleSize,bottom:r.y-ee.handleSize}},a.createElement("button",{className:H},t)))};var K=n(38193);const ee={handleSize:24},te=e=>{let{canvas:t,easingFunctionName:n,easingNestType:a,enlargeCanvasSpace:r,isMobile:i}=e;let s={x:r?i?25:50:0,y:r?t.height-(i?25:50):t.height,scaleX:1,scaleY:2};if("elastic"===n){let e={x:0,y:t.height,scaleX:1,scaleY:1};"inOut"===a?e.y=t.height/1.375:"out"===a&&(e.y=t.height/2),s=e}return{minX:0,minY:-1,maxX:1,maxY:1,translate:s}},ne=e=>{let{easingFunctionName:t,easingFunction:n,easingNestType:r,enlargeCanvasSpace:i=!1,bezierHandlesMoveHandler:s,bezierControlsValues:o}=e;const l=(0,a.useRef)(),{windowWidth:c}=(0,W.A)(),h=K.A.canUseViewport&&c<768,u={lineWidth:1,strokeStyle:"#c1c6e5",rect:{x:h?25:50,y:h?25:50,scaleFactor:h?50:100}},m=e=>{const{lineWidth:t,strokeStyle:n,rect:a}=u;e.lineWidth=t,e.strokeStyle=n,e.strokeRect(a.x,a.y,e.canvas.width-a.scaleFactor,e.canvas.height-a.scaleFactor)},d=e=>{const a=e.canvas,{minX:s,minY:o,maxX:l,maxY:c,translate:u}=te({canvas:a,easingFunctionName:t,easingNestType:r,enlargeCanvasSpace:i,isMobile:h}),m=i?e.canvas.width-(h?50:100):e.canvas.width,d=i?e.canvas.height-(h?50:100):e.canvas.height,p=c-o,y=(l-s)/1e3,g=m/(l-s)*u.scaleX,x=d/p*u.scaleY;e.translate(u.x,u.y),e.scale(g,-x),e.beginPath(),e.moveTo(s,n(s));for(let t=s+y;t<=l;t+=y)e.lineTo(t,n(t));e.restore(),e.lineJoin="round",e.lineWidth=3,e.strokeStyle="#b58df1",e.stroke(),e.restore()};(0,a.useEffect)((()=>{(()=>{const e=l.current.getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save(),i&&m(e),d(e),"bezier"!==t&&"bezierFn"!==t||h||_(e)})()}));const p=h?175:250,y=o.x1*(p-ee.handleSize),g=(1-(o.y1+1)/3)*(p-ee.handleSize),x=o.x2*(p-ee.handleSize),f=(1-(o.y2+1)/3)*(p-ee.handleSize),b=(e,t,n,a,r)=>{e.moveTo(t,n),e.lineTo(a+ee.handleSize/2,r+ee.handleSize/2),e.lineWidth=1,e.strokeStyle="rgba(102, 118, 170, 0.4)",e.stroke()},_=e=>{const{rect:t}=u;b(e,t.x,e.canvas.height-t.y,y,g),b(e,e.canvas.width-t.x,t.y,x,f)};return a.createElement("div",{className:G},a.createElement("div",{style:{width:p+2,height:p+2}},!h&&("bezier"===t||"bezierFn"===t)&&a.createElement(a.Fragment,null,a.createElement(J,{label:"L",startingPoint:{x:0,y:0},bounds:{x:p,y:p},pointMoveHandler:e=>{let{x:t,y:n}=e;return s.left({x:t,y:n,canvasSize:p})},pointControls:{x:y,y:g}}),a.createElement(J,{label:"R",startingPoint:{x:p-ee.handleSize,y:p-ee.handleSize},bounds:{x:p,y:p},pointMoveHandler:e=>{let{x:t,y:n}=e;return s.right({x:t,y:n,canvasSize:p})},pointControls:{x:x,y:f}})),a.createElement("canvas",{ref:l,width:p,height:p})))};var ae=n(41422),re=n(2244);const ie={duration:1e3,easing:"inOut",nestedEasing:"quad",reduceMotion:R.Pf.System,x1:.25,y1:.1,x2:.25,y2:1,bezierCollapsed:!0,stepToBack:3,power:4,bounciness:2,steps:5,roundToNextStep:!0};function se(){const{windowWidth:e}=K.A.canUseViewport&&(0,W.A)(),t=e<768,[n,r]=(0,a.useState)(ie.duration),[i,s]=(0,a.useState)(ie.easing),[o,l]=(0,a.useState)(ie.nestedEasing),[c,h]=(0,a.useState)(ie.reduceMotion),[u,m]=(0,a.useState)(ie.x1),[d,p]=(0,a.useState)(ie.y1),[y,g]=(0,a.useState)(ie.x2),[x,f]=(0,a.useState)(ie.y2),[b,_]=(0,a.useState)(ie.bezierCollapsed),[v,w]=(0,a.useState)(ie.stepToBack),[z,C]=(0,a.useState)(ie.power),[M,E]=(0,a.useState)(ie.bounciness),[N,S]=(0,a.useState)(ie.steps),[k,A]=(0,a.useState)(ie.roundToNextStep);(0,a.useEffect)((()=>{t&&b&&_(!1)}),[t]);const T=e=>"inOut"===e||"in"===e||"out"===e,F=e=>{if(T(e))return{fn:L.G[e](F(o).fn),code:`Easing.${e}(${F(o).code})`};const t=u||0,n=d||0,a=y||0,r=x||0;switch(e){case"back":return{fn:L.G.back(v),code:`Easing.back(${v})`};case"bezierFn":return{fn:L.G.bezierFn(t,n,a,r),code:`Easing.bezierFn(${t}, ${n}, ${a}, ${r})`};case"bezier":return{fn:L.G.bezier(t,n,a,r),code:`Easing.bezier(${t}, ${n}, ${a}, ${r})`};case"poly":return{fn:L.G.poly(z),code:`Easing.poly(${z})`};case"elastic":return{fn:L.G.elastic(M),code:`Easing.elastic(${M})`};case"steps":return{fn:L.G.steps(N,k),code:`Easing.steps(${N}, ${k})`}}return{fn:L.G[e],code:`Easing.${e}`}},O=`\n    withTiming(sv.value, {\n      duration: ${n},\n      easing: ${F(i).code},\n      reduceMotion: ${Mt(c)},\n    })\n  `,I=a.createElement(a.Fragment,null,a.createElement(wt,{label:"Duration",min:100,max:2e3,step:10,value:n,onChange:r}),a.createElement(Nt,{label:"Easing",value:i,onChange:s,options:["back","bezier","bounce","circle","cubic","ease","elastic","exp","linear","poly","quad","sin","steps","in","inOut","out"]}),T(i)&&a.createElement(Nt,{label:"Easing",value:o,onChange:l,disabled:!T(i),options:["back","bezierFn","bounce","circle","cubic","ease","elastic","exp","linear","poly","quad","sin","steps"]}),("back"===i||"back"===o)&&a.createElement(wt,{label:"Step to back",min:0,max:10,step:.1,value:v,onChange:w}),("bezier"===i||"bezierFn"===o&&T(i))&&a.createElement(a.Fragment,null,!t&&a.createElement(re.A,{label:"Hide controls",labelCollapsed:"Show controls",collapsed:b,onCollapse:()=>_((e=>!e)),className:j.collapseButton}),a.createElement(ae.N,{collapsed:b,lazy:!1,onCollapseTransitionEnd:e=>{_(e)},animation:{duration:1}},a.createElement(wt,{label:"x1",min:0,max:1,step:.01,value:u,onChange:m}),a.createElement(wt,{label:"y1",min:-1,max:2,step:.01,value:d,onChange:p}),a.createElement(wt,{label:"x2",min:0,max:1,step:.01,value:y,onChange:g}),a.createElement(wt,{label:"y2",min:-1,max:2,step:.01,value:x,onChange:f}))),("poly"===i||"poly"===o)&&a.createElement(wt,{label:"Power",min:1,max:10,step:1,value:z,onChange:C}),("elastic"===i||"elastic"===o)&&a.createElement(wt,{label:"Bounciness",min:0,max:10,step:.1,value:M,onChange:E}),("steps"===i||"steps"===o)&&a.createElement(a.Fragment,null,a.createElement(wt,{label:"Steps",min:1,max:15,step:1,value:N,onChange:S}),a.createElement(Nt,{label:"Round to next step",value:String(k),onChange:e=>A("true"===e),options:["true","false"]})),a.createElement(Nt,{label:"Reduce motion",value:c,onChange:e=>h(e),options:[R.Pf.System,R.Pf.Always,R.Pf.Never]})),X=(e,t)=>parseFloat((e/(t-ee.handleSize)).toFixed(2)),D=(e,t)=>parseFloat((3*(1-e/(t-ee.handleSize))-1).toFixed(2)),V=a.createElement(q,{options:{duration:n,easing:F(i).fn,reduceMotion:c}}),P=T(i)?o:i;return{code:O,controls:I,example:V,resetOptions:()=>{r(ie.duration),m(ie.x1),p(ie.y1),g(ie.x2),f(ie.y2),w(ie.stepToBack),C(ie.power),E(ie.bounciness),S(ie.steps),A(ie.roundToNextStep)},additionalComponents:{chart:a.createElement(ne,{easingFunctionName:P,easingFunction:"bezier"!==i?F(i).fn:F(i).fn.factory(),easingNestType:T(i)&&i,enlargeCanvasSpace:["back","bezier","bezierFn"].includes(P),bezierHandlesMoveHandler:{left:e=>{let{x:t,y:n,canvasSize:a}=e;m((()=>X(t,a))),p((()=>D(n,a)))},right:e=>{let{x:t,y:n,canvasSize:a}=e;g((()=>X(t,a))),f((()=>D(n,a)))}},bezierControlsValues:{x1:u,y1:d,x2:y,y2:x}})}}}var oe=n(89119);const le=0,ce={code:"function anonymous(){const{interpolateColor,progress,outputRange,colorSpace,options}=this.__closure;return{backgroundColor:interpolateColor(progress.value,[0,1],outputRange,colorSpace,options)};}"};function he(e){let{outputRange:t,colorSpace:n,options:r}=e;const i=(0,F.U)(le),s=(0,m.m)(function(){const e=function(){return{backgroundColor:(0,oe.De)(i.value,[0,1],t,n,r)}};return e.__closure={interpolateColor:oe.De,progress:i,outputRange:t,colorSpace:n,options:r},e.__workletHash=0xf42a6e48edc,e.__initData=ce,e}());return(0,a.useEffect)((()=>{(0,O.px)(i),i.value=le}),[t,n,r]),a.createElement(c.A,{style:ue.container},a.createElement(b.X,{style:[ue.box,s]}),a.createElement(T.A,{onPress:()=>{i.value=(0,f.f)(1-i.value,{duration:1e3})},title:"run animation"}))}const ue=u.A.create({container:{alignItems:"center"},box:{height:100,width:100,borderRadius:20,marginVertical:64}}),me={example:"example_TsNs",collapseButton:"collapseButton_ScRI"},de={colorSelection:"colorSelection_uty6",colorInput:"colorInput_Diun"};var pe=n(7612),ye=n(36628),ge=n(24542);const xe={minWidth:88,maxWidth:150,maxHeight:32,"& .MuiInputBase-input":{fontSize:14,backgroundColor:"background.default",color:"text.secondary",padding:"6px 14px 6px 0"},"& fieldset":{borderRadius:0,borderColor:"text.secondary"}},fe=e=>{let{color:t,setColor:n,defaultValue:r,refreshKey:i}=e;const[s,o]=(0,a.useState)(t);return(0,a.useEffect)((()=>{o((()=>r)),n((()=>r))}),[i]),a.createElement("div",{className:de.colorSelection},a.createElement(pe.jI,{color:t,onChange:e=>{n(e),o(e)},className:de.colorPicker}),a.createElement(ye.A,{type:"text",hiddenLabel:!0,size:"small",sx:xe,value:s.replace("#","").toUpperCase(),inputProps:{maxLength:6},InputProps:{startAdornment:a.createElement(ge.A,{position:"start"},"#")},onBlur:e=>{e.target.value||(o(r),n(r))},onChange:e=>{const t=e.target.value;/^[0-9A-F]{0,6}$/i.test(t)&&o(t),/^([0-9A-F]{3}){1,2}$/i.test(t)&&n(`#${t}`)}}))},be="smallBox_iTLi",_e="row_EHaq",ve="progressBarSection_sTMw",we="progressBarSectionPart__93J",ze="progressBarLabels_DOXh",Ce=e=>{let{color1:t,color2:n,interpolateFunction:r}=e;return a.createElement("div",{className:_e},new Array(11).fill(null).map(((e,t)=>t/10)).map((e=>a.createElement("div",{key:""+e,className:be,style:{backgroundColor:r(t,n,e)}}))))};var Me=n(20053);function Ee(e,t,n){return(0,oe.De)(n,[0,1],[e,t],"RGB",{gamma:1})}function Ne(e,t,n){return(0,oe.De)(n,[0,1],[e,t])}function Se(e,t,n){return(0,oe.De)(n,[0,1],[e,t],"HSV",{useCorrectedHSVInterpolation:!1})}function ke(e,t,n){return(0,oe.De)(n,[0,1],[e,t],"HSV")}const Ae=e=>{let{color1:t,color2:n}=e;return a.createElement("div",{className:ve},a.createElement("div",{className:(0,Me.default)(we,ze)},a.createElement("p",null,"RGB"),a.createElement("p",null,"RGB (with gamma correction)"),a.createElement("p",null,"HSV"),a.createElement("p",null,"HSV (with correction)")),a.createElement("div",{className:(0,Me.default)(we)},a.createElement(Ce,{color1:t,color2:n,interpolateFunction:Ee}),a.createElement(Ce,{color1:t,color2:n,interpolateFunction:Ne}),a.createElement(Ce,{color1:t,color2:n,interpolateFunction:Se}),a.createElement(Ce,{color1:t,color2:n,interpolateFunction:ke})))},Te={RGB:"RGB",HSV:"HSV"},Fe={colorSpace:"RGB",gamma:2.2,correction:!0,color:{leftBoundary:"#38ACDD",rightBoundary:"#FFD61E"}};function Re(){const{windowWidth:e}=K.A.canUseViewport&&(0,W.A)(),t=e<600,[n,r]=(0,a.useState)(0),[i,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(Te[Fe.colorSpace]),[c,h]=(0,a.useState)(Fe.gamma),[u,m]=(0,a.useState)(Fe.color.leftBoundary),[d,p]=(0,a.useState)(Fe.color.rightBoundary),[y,g]=(0,a.useState)(Fe.correction),x=`\n    interpolateColor(\n        sv.value,\n        [0, 1],\n        ['${u.toUpperCase()}', '${d.toUpperCase()}']\n        '${o}',\n        {\n          ${o===Te.RGB?`gamma: ${c},`:`useCorrectedHSVInterpolation: ${y},`}\n        }\n      )\n    `,f=a.createElement(a.Fragment,null,a.createElement(Nt,{label:"Colorspace",value:o,onChange:e=>l(Te[e]),options:["RGB","HSV"]}),o===Te.RGB&&a.createElement(wt,{label:"Gamma",min:0,max:10,step:.1,value:c,onChange:h}),o===Te.HSV&&a.createElement(Ct,{value:y,onChange:g,label:"Use corrected HSV"})),b=a.createElement(he,{outputRange:[u,d],colorSpace:o,options:{gamma:c,useCorrectedHSVInterpolation:y}});return{example:a.createElement("div",{className:me.example},a.createElement(fe,{color:u,setColor:m,defaultValue:Fe.color.leftBoundary,refreshKey:n}),!t&&b,a.createElement(fe,{color:d,setColor:p,defaultValue:Fe.color.rightBoundary,refreshKey:n}),t&&b),controls:f,code:x,resetOptions:()=>{r((e=>e+1)),l((()=>Te[Fe.colorSpace])),h((()=>Fe.gamma)),g((()=>Fe.correction))},additionalComponents:{section:a.createElement(a.Fragment,null,a.createElement(re.A,{label:"Hide interpolation comparison",labelCollapsed:"Show interpolation comparison",collapsed:i,onCollapse:()=>s((e=>!e)),className:me.collapseButton}),a.createElement(ae.N,{lazy:!1,collapsed:i,disableSSRStyle:!0,onCollapseTransitionEnd:s},a.createElement(Ae,{color1:u,color2:d})))}}}const Oe={wrapper:"wrapper_ufCG",scene:"scene_l0sj",cube:"cube_Ivk1",face:"face_tjX8",front:"front_GMRA",back:"back_DfzV",right:"right_v4wd",left:"left_J8Lw",top:"top_NxlS",bottom:"bottom_z3UZ"};function Ie(e){const{x:t,y:n,z:r}=e;return a.createElement("div",{className:Oe.wrapper},a.createElement("div",{className:Oe.scene},a.createElement("div",{className:Oe.cube,style:{transform:`rotateX(${t}deg) rotateY(${n}deg) rotateZ(${r}deg)`}},a.createElement("div",{className:`${Oe.face} ${Oe.front}`}),a.createElement("div",{className:`${Oe.face} ${Oe.right}`}),a.createElement("div",{className:`${Oe.face} ${Oe.back}`}),a.createElement("div",{className:`${Oe.face} ${Oe.left}`}),a.createElement("div",{className:`${Oe.face} ${Oe.top}`}),a.createElement("div",{className:`${Oe.face} ${Oe.bottom}`}))))}function Xe(e){let{values:t}=e;return a.createElement(Ie,t)}const De=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ve=1234567;const Pe=Math.PI/180,Ye=180/Math.PI;function Be(e,t,n){return Math.max(t,Math.min(n,e))}function $e(e,t){return(e%t+t)%t}function qe(e,t,n){return(1-n)*e+n*t}const Ze={DEG2RAD:Pe,RAD2DEG:Ye,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,a=4294967295*Math.random()|0;return(De[255&e]+De[e>>8&255]+De[e>>16&255]+De[e>>24&255]+"-"+De[255&t]+De[t>>8&255]+"-"+De[t>>16&15|64]+De[t>>24&255]+"-"+De[63&n|128]+De[n>>8&255]+"-"+De[n>>16&255]+De[n>>24&255]+De[255&a]+De[a>>8&255]+De[a>>16&255]+De[a>>24&255]).toLowerCase()},clamp:Be,euclideanModulo:$e,mapLinear:function(e,t,n,a,r){return a+(e-t)*(r-a)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:qe,damp:function(e,t,n,a){return qe(e,t,1-Math.exp(-n*a))},pingpong:function(e,t){return void 0===t&&(t=1),t-Math.abs($e(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ve=e);let t=Ve+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Pe},radToDeg:function(e){return e*Ye},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,a,r){const i=Math.cos,s=Math.sin,o=i(n/2),l=s(n/2),c=i((t+a)/2),h=s((t+a)/2),u=i((t-a)/2),m=s((t-a)/2),d=i((a-t)/2),p=s((a-t)/2);switch(r){case"XYX":e.set(o*h,l*u,l*m,o*c);break;case"YZY":e.set(l*m,o*h,l*u,o*c);break;case"ZXZ":e.set(l*u,l*m,o*h,o*c);break;case"XZX":e.set(o*h,l*p,l*d,o*c);break;case"YXY":e.set(l*d,o*h,l*p,o*c);break;case"ZYZ":e.set(l*p,l*d,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}},denormalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}};class je{constructor(e,t,n,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===a&&(a=1),this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=a}static slerpFlat(e,t,n,a,r,i,s){let o=n[a+0],l=n[a+1],c=n[a+2],h=n[a+3];const u=r[i+0],m=r[i+1],d=r[i+2],p=r[i+3];if(0===s)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=h);if(1===s)return e[t+0]=u,e[t+1]=m,e[t+2]=d,void(e[t+3]=p);if(h!==p||o!==u||l!==m||c!==d){let e=1-s;const t=o*u+l*m+c*d+h*p,n=t>=0?1:-1,a=1-t*t;if(a>Number.EPSILON){const r=Math.sqrt(a),i=Math.atan2(r,t*n);e=Math.sin(e*i)/r,s=Math.sin(s*i)/r}const r=s*n;if(o=o*e+u*r,l=l*e+m*r,c=c*e+d*r,h=h*e+p*r,e===1-s){const e=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=e,l*=e,c*=e,h*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,a,r,i){const s=n[a],o=n[a+1],l=n[a+2],c=n[a+3],h=r[i],u=r[i+1],m=r[i+2],d=r[i+3];return e[t]=s*d+c*h+o*m-l*u,e[t+1]=o*d+c*u+l*h-s*m,e[t+2]=l*d+c*m+s*u-o*h,e[t+3]=c*d-s*h-o*u-l*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,a){return this._x=e,this._y=t,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,a=e._y,r=e._z,i=e._order,s=Math.cos,o=Math.sin,l=s(n/2),c=s(a/2),h=s(r/2),u=o(n/2),m=o(a/2),d=o(r/2);switch(i){case"XYZ":this._x=u*c*h+l*m*d,this._y=l*m*h-u*c*d,this._z=l*c*d+u*m*h,this._w=l*c*h-u*m*d;break;case"YXZ":this._x=u*c*h+l*m*d,this._y=l*m*h-u*c*d,this._z=l*c*d-u*m*h,this._w=l*c*h+u*m*d;break;case"ZXY":this._x=u*c*h-l*m*d,this._y=l*m*h+u*c*d,this._z=l*c*d+u*m*h,this._w=l*c*h-u*m*d;break;case"ZYX":this._x=u*c*h-l*m*d,this._y=l*m*h+u*c*d,this._z=l*c*d-u*m*h,this._w=l*c*h+u*m*d;break;case"YZX":this._x=u*c*h+l*m*d,this._y=l*m*h+u*c*d,this._z=l*c*d-u*m*h,this._w=l*c*h-u*m*d;break;case"XZY":this._x=u*c*h-l*m*d,this._y=l*m*h-u*c*d,this._z=l*c*d+u*m*h,this._w=l*c*h+u*m*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,a=Math.sin(n);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],a=t[4],r=t[8],i=t[1],s=t[5],o=t[9],l=t[2],c=t[6],h=t[10],u=n+s+h;if(u>0){const e=.5/Math.sqrt(u+1);this._w=.25/e,this._x=(c-o)*e,this._y=(r-l)*e,this._z=(i-a)*e}else if(n>s&&n>h){const e=2*Math.sqrt(1+n-s-h);this._w=(c-o)/e,this._x=.25*e,this._y=(a+i)/e,this._z=(r+l)/e}else if(s>h){const e=2*Math.sqrt(1+s-n-h);this._w=(r-l)/e,this._x=(a+i)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+h-n-s);this._w=(i-a)/e,this._x=(r+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Be(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const a=Math.min(1,t/n);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,a=e._y,r=e._z,i=e._w,s=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+i*s+a*l-r*o,this._y=a*c+i*o+r*s-n*l,this._z=r*c+i*l+n*o-a*s,this._w=i*c-n*s-a*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,a=this._y,r=this._z,i=this._w;let s=i*e._w+n*e._x+a*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=i,this._x=n,this._y=a,this._z=r,this;const o=1-s*s;if(o<=Number.EPSILON){const e=1-t;return this._w=e*i+t*this._w,this._x=e*n+t*this._x,this._y=e*a+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),c=Math.atan2(l,s),h=Math.sin((1-t)*c)/l,u=Math.sin(t*c)/l;return this._w=i*h+this._w*u,this._x=n*h+this._x*u,this._y=a*h+this._y*u,this._z=r*h+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),a=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(a),n*Math.sin(r),n*Math.cos(r),t*Math.sin(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Le{constructor(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),Le.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(We.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(We.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*a,this.y=r[1]*t+r[4]*n+r[7]*a,this.z=r[2]*t+r[5]*n+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,a=this.z,r=e.elements,i=1/(r[3]*t+r[7]*n+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*a+r[12])*i,this.y=(r[1]*t+r[5]*n+r[9]*a+r[13])*i,this.z=(r[2]*t+r[6]*n+r[10]*a+r[14])*i,this}applyQuaternion(e){const t=this.x,n=this.y,a=this.z,r=e.x,i=e.y,s=e.z,o=e.w,l=o*t+i*a-s*n,c=o*n+s*t-r*a,h=o*a+r*n-i*t,u=-r*t-i*n-s*a;return this.x=l*o+u*-r+c*-s-h*-i,this.y=c*o+u*-i+h*-r-l*-s,this.z=h*o+u*-s+l*-i-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*a,this.y=r[1]*t+r[5]*n+r[9]*a,this.z=r[2]*t+r[6]*n+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,a=e.y,r=e.z,i=t.x,s=t.y,o=t.z;return this.x=a*o-r*s,this.y=r*i-n*o,this.z=n*s-a*i,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ge.copy(this).projectOnVector(e),this.sub(Ge)}reflect(e){return this.sub(Ge.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Be(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return t*t+n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const a=Math.sin(t)*e;return this.x=a*Math.sin(n),this.y=Math.cos(t)*e,this.z=a*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ge=new Le,We=new je;class He{constructor(e,t,n,a,r,i,s,o,l,c,h,u,m,d,p,y){He.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,a,r,i,s,o,l,c,h,u,m,d,p,y)}set(e,t,n,a,r,i,s,o,l,c,h,u,m,d,p,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=a,g[1]=r,g[5]=i,g[9]=s,g[13]=o,g[2]=l,g[6]=c,g[10]=h,g[14]=u,g[3]=m,g[7]=d,g[11]=p,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new He).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,a=1/Ue.setFromMatrixColumn(e,0).length(),r=1/Ue.setFromMatrixColumn(e,1).length(),i=1/Ue.setFromMatrixColumn(e,2).length();return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,a=e.y,r=e.z,i=Math.cos(n),s=Math.sin(n),o=Math.cos(a),l=Math.sin(a),c=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){const e=i*c,n=i*h,a=s*c,r=s*h;t[0]=o*c,t[4]=-o*h,t[8]=l,t[1]=n+a*l,t[5]=e-r*l,t[9]=-s*o,t[2]=r-e*l,t[6]=a+n*l,t[10]=i*o}else if("YXZ"===e.order){const e=o*c,n=o*h,a=l*c,r=l*h;t[0]=e+r*s,t[4]=a*s-n,t[8]=i*l,t[1]=i*h,t[5]=i*c,t[9]=-s,t[2]=n*s-a,t[6]=r+e*s,t[10]=i*o}else if("ZXY"===e.order){const e=o*c,n=o*h,a=l*c,r=l*h;t[0]=e-r*s,t[4]=-i*h,t[8]=a+n*s,t[1]=n+a*s,t[5]=i*c,t[9]=r-e*s,t[2]=-i*l,t[6]=s,t[10]=i*o}else if("ZYX"===e.order){const e=i*c,n=i*h,a=s*c,r=s*h;t[0]=o*c,t[4]=a*l-n,t[8]=e*l+r,t[1]=o*h,t[5]=r*l+e,t[9]=n*l-a,t[2]=-l,t[6]=s*o,t[10]=i*o}else if("YZX"===e.order){const e=i*o,n=i*l,a=s*o,r=s*l;t[0]=o*c,t[4]=r-e*h,t[8]=a*h+n,t[1]=h,t[5]=i*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*h+a,t[10]=e-r*h}else if("XZY"===e.order){const e=i*o,n=i*l,a=s*o,r=s*l;t[0]=o*c,t[4]=-h,t[8]=l*c,t[1]=e*h+r,t[5]=i*c,t[9]=n*h-a,t[2]=a*h-n,t[6]=s*c,t[10]=r*h+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Je,e,Ke)}lookAt(e,t,n){const a=this.elements;return nt.subVectors(e,t),0===nt.lengthSq()&&(nt.z=1),nt.normalize(),et.crossVectors(n,nt),0===et.lengthSq()&&(1===Math.abs(n.z)?nt.x+=1e-4:nt.z+=1e-4,nt.normalize(),et.crossVectors(n,nt)),et.normalize(),tt.crossVectors(nt,et),a[0]=et.x,a[4]=tt.x,a[8]=nt.x,a[1]=et.y,a[5]=tt.y,a[9]=nt.y,a[2]=et.z,a[6]=tt.z,a[10]=nt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,a=t.elements,r=this.elements,i=n[0],s=n[4],o=n[8],l=n[12],c=n[1],h=n[5],u=n[9],m=n[13],d=n[2],p=n[6],y=n[10],g=n[14],x=n[3],f=n[7],b=n[11],_=n[15],v=a[0],w=a[4],z=a[8],C=a[12],M=a[1],E=a[5],N=a[9],S=a[13],k=a[2],A=a[6],T=a[10],F=a[14],R=a[3],O=a[7],I=a[11],X=a[15];return r[0]=i*v+s*M+o*k+l*R,r[4]=i*w+s*E+o*A+l*O,r[8]=i*z+s*N+o*T+l*I,r[12]=i*C+s*S+o*F+l*X,r[1]=c*v+h*M+u*k+m*R,r[5]=c*w+h*E+u*A+m*O,r[9]=c*z+h*N+u*T+m*I,r[13]=c*C+h*S+u*F+m*X,r[2]=d*v+p*M+y*k+g*R,r[6]=d*w+p*E+y*A+g*O,r[10]=d*z+p*N+y*T+g*I,r[14]=d*C+p*S+y*F+g*X,r[3]=x*v+f*M+b*k+_*R,r[7]=x*w+f*E+b*A+_*O,r[11]=x*z+f*N+b*T+_*I,r[15]=x*C+f*S+b*F+_*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],a=e[8],r=e[12],i=e[1],s=e[5],o=e[9],l=e[13],c=e[2],h=e[6],u=e[10],m=e[14];return e[3]*(+r*o*h-a*l*h-r*s*u+n*l*u+a*s*m-n*o*m)+e[7]*(+t*o*m-t*l*u+r*i*u-a*i*m+a*l*c-r*o*c)+e[11]*(+t*l*h-t*s*m-r*i*h+n*i*m+r*s*c-n*l*c)+e[15]*(-a*s*c-t*o*h+t*s*u+a*i*h-n*i*u+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],a=e[2],r=e[3],i=e[4],s=e[5],o=e[6],l=e[7],c=e[8],h=e[9],u=e[10],m=e[11],d=e[12],p=e[13],y=e[14],g=e[15],x=h*y*l-p*u*l+p*o*m-s*y*m-h*o*g+s*u*g,f=d*u*l-c*y*l-d*o*m+i*y*m+c*o*g-i*u*g,b=c*p*l-d*h*l+d*s*m-i*p*m-c*s*g+i*h*g,_=d*h*o-c*p*o-d*s*u+i*p*u+c*s*y-i*h*y,v=t*x+n*f+a*b+r*_;if(0===v)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/v;return e[0]=x*w,e[1]=(p*u*r-h*y*r-p*a*m+n*y*m+h*a*g-n*u*g)*w,e[2]=(s*y*r-p*o*r+p*a*l-n*y*l-s*a*g+n*o*g)*w,e[3]=(h*o*r-s*u*r-h*a*l+n*u*l+s*a*m-n*o*m)*w,e[4]=f*w,e[5]=(c*y*r-d*u*r+d*a*m-t*y*m-c*a*g+t*u*g)*w,e[6]=(d*o*r-i*y*r-d*a*l+t*y*l+i*a*g-t*o*g)*w,e[7]=(i*u*r-c*o*r+c*a*l-t*u*l-i*a*m+t*o*m)*w,e[8]=b*w,e[9]=(d*h*r-c*p*r-d*n*m+t*p*m+c*n*g-t*h*g)*w,e[10]=(i*p*r-d*s*r+d*n*l-t*p*l-i*n*g+t*s*g)*w,e[11]=(c*s*r-i*h*r-c*n*l+t*h*l+i*n*m-t*s*m)*w,e[12]=_*w,e[13]=(c*p*a-d*h*a+d*n*u-t*p*u-c*n*y+t*h*y)*w,e[14]=(d*s*a-i*p*a-d*n*o+t*p*o+i*n*y-t*s*y)*w,e[15]=(i*h*a-c*s*a+c*n*o-t*h*o-i*n*u+t*s*u)*w,this}scale(e){const t=this.elements,n=e.x,a=e.y,r=e.z;return t[0]*=n,t[4]*=a,t[8]*=r,t[1]*=n,t[5]*=a,t[9]*=r,t[2]*=n,t[6]*=a,t[10]*=r,t[3]*=n,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,a))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),a=Math.sin(t),r=1-n,i=e.x,s=e.y,o=e.z,l=r*i,c=r*s;return this.set(l*i+n,l*s-a*o,l*o+a*s,0,l*s+a*o,c*s+n,c*o-a*i,0,l*o-a*s,c*o+a*i,r*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,a,r,i){return this.set(1,n,r,0,e,1,i,0,t,a,1,0,0,0,0,1),this}compose(e,t,n){const a=this.elements,r=t._x,i=t._y,s=t._z,o=t._w,l=r+r,c=i+i,h=s+s,u=r*l,m=r*c,d=r*h,p=i*c,y=i*h,g=s*h,x=o*l,f=o*c,b=o*h,_=n.x,v=n.y,w=n.z;return a[0]=(1-(p+g))*_,a[1]=(m+b)*_,a[2]=(d-f)*_,a[3]=0,a[4]=(m-b)*v,a[5]=(1-(u+g))*v,a[6]=(y+x)*v,a[7]=0,a[8]=(d+f)*w,a[9]=(y-x)*w,a[10]=(1-(u+p))*w,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,n){const a=this.elements;let r=Ue.set(a[0],a[1],a[2]).length();const i=Ue.set(a[4],a[5],a[6]).length(),s=Ue.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],Qe.copy(this);const o=1/r,l=1/i,c=1/s;return Qe.elements[0]*=o,Qe.elements[1]*=o,Qe.elements[2]*=o,Qe.elements[4]*=l,Qe.elements[5]*=l,Qe.elements[6]*=l,Qe.elements[8]*=c,Qe.elements[9]*=c,Qe.elements[10]*=c,t.setFromRotationMatrix(Qe),n.x=r,n.y=i,n.z=s,this}equals(e){const t=this.elements,n=e.elements;for(let a=0;a<16;a++)if(t[a]!==n[a])return!1;return!0}fromArray(e,t){void 0===t&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ue=new Le,Qe=new He,Je=new Le(0,0,0),Ke=new Le(1,1,1),et=new Le,tt=new Le,nt=new Le,at=new He,rt=new je;class it{constructor(e,t,n,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===a&&(a=it.DEFAULT_ORDER),this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,a){return void 0===a&&(a=this._order),this._x=e,this._y=t,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){void 0===t&&(t=this._order),void 0===n&&(n=!0);const a=e.elements,r=a[0],i=a[4],s=a[8],o=a[1],l=a[5],c=a[9],h=a[2],u=a[6],m=a[10];switch(t){case"XYZ":this._y=Math.asin(Be(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-i,r)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Be(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(Be(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-i,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-Be(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(u,m),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-i,l));break;case"YZX":this._z=Math.asin(Be(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-Be(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return at.makeRotationFromQuaternion(e),this.setFromRotationMatrix(at,t,n)}setFromVector3(e,t){return void 0===t&&(t=this._order),this.set(e.x,e.y,e.z,t)}reorder(e){return rt.setFromEuler(this),this.setFromQuaternion(rt,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}it.DEFAULT_ORDER="XYZ";const st=9.80665,ot=500;function lt(e,t,n){return{radX:Ze.degToRad(e),radY:Ze.degToRad(t),radZ:Ze.degToRad(n)}}const ct={x:0,y:0,z:0,sensorType:"ROTATION",measurement:{current:null,previous:null,currentX:null,previousX:null,currentY:null,previousY:null,currentZ:null,previousZ:null}};function ht(){const[e,t]=(0,a.useState)(ct.x),[n,r]=(0,a.useState)(ct.y),[i,s]=(0,a.useState)(ct.z),[o,l]=(0,a.useState)(ct.sensorType),[c,h]=(0,a.useState)(ct.measurement);(0,a.useEffect)((()=>{let t;const a=()=>{const r=performance.now();h((t=>({current:r,previous:t.current,currentX:e,previousX:t.currentX,currentY:n,previousY:t.currentY,currentZ:i,previousZ:t.currentZ}))),t=setTimeout(a,ot)};return a(),()=>{clearTimeout(t)}}),[e,n,i]);const u=a.createElement(a.Fragment,null,a.createElement(Nt,{label:"Sensor type",value:o,onChange:e=>l(e),options:["ACCELEROMETER","GYROSCOPE","GRAVITY","MAGNETIC_FIELD","ROTATION"],disabledOptions:["ACCELEROMETER","MAGNETIC_FIELD"]}),a.createElement(wt,{label:"X axis angle",min:-180,max:180,step:1,value:e,onChange:t}),a.createElement(wt,{label:"Y axis angle",min:-180,max:180,step:1,value:n,onChange:r}),a.createElement(wt,{label:"Z axis angle",min:-180,max:180,step:1,value:i,onChange:s})),m=(0,a.useMemo)((()=>{return t=function(e,t,n){const{radX:a,radY:r,radZ:i}=lt(e,t,n),s=new it(a,r,i,"XYZ"),o=(new He).makeRotationFromEuler(s);return new Le(0,-st,0).applyMatrix4(o)}(e,n,i),`\n  { \n    "x": ${t.x.toFixed(2)},\n    "y": ${t.y.toFixed(2)},\n    "z": ${t.z.toFixed(2)}\n  }\n  `;var t}),[e,n,i]),d=(0,a.useMemo)((()=>function(e){let{pitch:t,roll:n,yaw:a,qw:r,qx:i,qy:s,qz:o}=e;return`\n  { \n    "pitch": ${t.toFixed(2)},\n    "roll": ${n.toFixed(2)},\n    "yaw": ${a.toFixed(2)},\n\n    "qw": ${r.toFixed(2)},\n    "qx": ${i.toFixed(2)},\n    "qy": ${s.toFixed(2)},\n    "qz": ${o.toFixed(2)}\n  }\n  `}(function(e,t,n){const{radX:a,radY:r,radZ:i}=lt(e,t,n),s=new it(a,r,i,"XYZ"),o=new je;return o.setFromEuler(s),{pitch:s.x,roll:s.y,yaw:s.z,qw:o.w,qx:o.x,qy:o.y,qz:o.z}}(e,n,i))),[e,n,i]),p=(0,a.useMemo)((()=>function(e){let{x:t,y:n,z:a}=e;return`\n  { \n    "x": ${t.toFixed(2)},\n    "y": ${n.toFixed(2)},\n    "z": ${a.toFixed(2)}\n  }\n  `}(function(e,t,n,a){const{radX:r,radY:i,radZ:s}=lt(e,t,n);return{x:1e3*r/a,y:1e3*i/a,z:1e3*s/a}}(c.currentX-c.previousX,c.currentY-c.previousY,c.currentZ-c.previousZ,c.current-c.previous))),[c]);return{code:{GRAVITY:m,ROTATION:d,GYROSCOPE:p}[o],controls:u,example:(0,a.useMemo)((()=>a.createElement(Xe,{values:{x:e,y:n,z:i}})),[e,n,i]),resetOptions:()=>{t(ct.x),r(ct.y),s(ct.z),h(ct.measurement)}}}var ut=n(81585),mt=n(42114),dt=n(45203),pt=n(54185),yt=n(47461),gt=n(40026),xt=n(91678),ft=n(23232);function bt(e){const[t,n]=a.useState(0),{example:c,code:h,controls:u,resetOptions:m,additionalComponents:d}=e.usePlayground(),p=(0,o.I)();return a.createElement(i.A,{fallback:a.createElement("div",null,"Loading...")},(()=>a.createElement("div",{className:r.container},p&&a.createElement(l.A,null),a.createElement("div",{className:r.buttonContainer},a.createElement(dt.A,{icon:a.createElement(ut.A,null),iconDark:a.createElement(mt.A,null),animation:dt.X.FADE_IN_OUT,onClick:(e,a)=>{e||(n(t+1),m(),a(!0))}})),a.createElement("div",{className:r.previewWrapper},a.createElement(a.Fragment,{key:t},c)),d?.section,a.createElement("div",{className:r.wrapper},a.createElement("div",{className:r.controls},u,d?.chart),a.createElement("div",{className:r.codeWrapper},a.createElement(s.A,{className:r.code,language:"javascript"},h))))))}const _t={color:"var(--swm-interactive-slider)","& .MuiSlider-thumb":{backgroundColor:"var(--swm-interactive-slider)"},"& .MuiSlider-rail":{color:"var(--swm-interactive-slider-rail)",opacity:1}},vt={minWidth:88,"& .MuiInputBase-input":{fontSize:14,backgroundColor:"background.default",color:"text.secondary"},"& fieldset":{borderRadius:0,borderColor:"text.secondary"}};function wt(e){let{min:t,max:n,value:i,onChange:s,label:o,step:l=1}=e;return a.createElement(a.Fragment,null,a.createElement("div",{className:r.row},a.createElement("label",null,o),a.createElement(ye.A,{type:"number",hiddenLabel:!0,size:"small",inputProps:{min:t,max:n,step:l},sx:vt,value:i,onChange:e=>{const a=parseFloat(e.target.value);s(a>n?n:a<=t?t:a)}})),a.createElement(pt.Ay,{min:t,max:n,step:l,value:i,sx:_t,onChange:e=>s(parseFloat(e.target.value))}))}function zt(e){let{min:t,max:n,value:i,onChange:s,label:o,step:l=1,color:c}=e;return a.createElement(a.Fragment,null,a.createElement("div",{className:r.row},a.createElement("label",null,o),[0,1].map((e=>a.createElement(ye.A,{type:"number",hiddenLabel:!0,size:"small",key:`${o}${e}`,inputProps:{min:t,max:n,step:l},sx:vt,value:i[e],onChange:a=>{const r=parseFloat(a.target.value);s[e](r>n[e]?n[e]:r<=t[e]?t[e]:r)}})))),a.createElement(pt.Ay,{min:t,max:n,step:l,value:i,sx:_t,onChange:e=>{s[0](parseFloat(e.target.value[0])),s[1](parseFloat(e.target.value[1]))}}))}function Ct(e){let{value:t,onChange:n,label:i}=e;return a.createElement("div",{className:r.row},a.createElement("div",null,i),a.createElement(yt.A,{color:"secondary",checked:t,onChange:e=>n(e.target.checked),disableRipple:!0}))}function Mt(e){return"always"===e?"ReduceMotion.Always":"never"===e?"ReduceMotion.Never":"ReduceMotion.System"}const Et={fontSize:14,color:"text.secondary",backgroundColor:"background.default",borderRadius:0,"& fieldset":{borderColor:"text.secondary"}};function Nt(e){let{value:t,onChange:n,label:i,options:s,disabled:o,disabledOptions:l}=e;return a.createElement("div",{className:r.row},a.createElement("label",null,i),a.createElement(gt.A,{sx:{minWidth:85},size:"small"},a.createElement(xt.A,{value:t,sx:Et,onChange:e=>n(e.target.value),disabled:o},s.map((e=>a.createElement(ft.A,{key:e,value:e,disabled:l?.includes(e),sx:{color:"text.secondary"}},e))))))}},61393:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(96540);const r={dangerMark:"dangerMark_lcGp",link:"link_BpRw",warningText:"warningText_gopk",container:"container_Ge6n"};var i,s=n(75489),o=n(95293);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}const c=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",l({width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,i||(i=a.createElement("path",{d:"M10.5 14.99V15M10.5 5v7M10.5 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z",stroke:"#001A72",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};var h;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}const m=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",u({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,h||(h=a.createElement("path",{d:"M10 14.99V15M10 5v7M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z",stroke:"#F8F9FF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};function d(){const{colorMode:e}=(0,o.G)();return a.createElement("div",{className:r.container},a.createElement("div",{className:r.dangerMark},"light"===e?a.createElement(c,null):a.createElement(m,null)),a.createElement("p",{className:r.warningText},"It looks like reduced motion is turned on in your system preferences. Some of the animations may be skipped."," ",a.createElement(s.A,{className:r.link,to:"/docs/guides/accessibility#reduced-motion-in-animations"},"Learn more")))}},60033:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>b,frontMatter:()=>l,metadata:()=>h,toc:()=>m});var a=n(58168),r=(n(96540),n(15680)),i=n(87305),s=n(86025);const o="import React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport Animated, {\n  useAnimatedStyle,\n  useAnimatedSensor,\n  SensorType,\n  withSpring,\n} from 'react-native-reanimated';\n\nexport default function App() {\n  // highlight-next-line\n  const gravity = useAnimatedSensor(SensorType.GRAVITY);\n\n  const animatedStyle = useAnimatedStyle(() => {\n    return {\n      transform: [\n        // highlight-next-line\n        { translateX: withSpring(gravity.sensor.value.x * 20) },\n        // highlight-next-line\n        { translateY: withSpring(gravity.sensor.value.y * 20) },\n      ],\n    };\n  });\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, animatedStyle]} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n  },\n});\n",l={sidebar_position:2},c=void 0,h={unversionedId:"device/useAnimatedSensor",id:"device/useAnimatedSensor",title:"useAnimatedSensor",description:"useAnimatedSensor lets you create animations based on data from the device's sensors. You can access:",source:"@site/docs/device/useAnimatedSensor.mdx",sourceDirName:"device",slug:"/device/useAnimatedSensor",permalink:"/react-native-reanimated/docs/device/useAnimatedSensor",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/tree/main/docs/docs/device/useAnimatedSensor.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"useAnimatedKeyboard",permalink:"/react-native-reanimated/docs/device/useAnimatedKeyboard"},next:{title:"useReducedMotion",permalink:"/react-native-reanimated/docs/device/useReducedMotion"}},u={},m=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>sensorType</code>",id:"sensortype",level:4},{value:"<code>config</code> <Optional />",id:"config-",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.yg)("div",t)},p=d("InteractivePlayground"),y=d("Optional"),g=d("CollapsibleCode"),x={toc:m},f="wrapper";function b(e){let{components:t,...n}=e;return(0,r.yg)(f,(0,a.A)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"useAnimatedSensor")," lets you create animations based on data from the device's sensors. You can access:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Accelerometer")," - the device acceleration (without gravity)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Gyroscope")," - the rotation rate of the device."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Gravity")," - the current gravity vector."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Magnetic field")," - the magnetic field vector."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Rotation")," - the device orientation in three dimensions.")),(0,r.yg)("p",null,"For a full, in depth documentation follow the ",(0,r.yg)("a",{parentName:"p",href:"https://developer.android.com/guide/topics/sensors/sensors_overview"},"Sensors guide")," on Android Developers and the ",(0,r.yg)("a",{parentName:"p",href:"https://developer.apple.com/documentation/coremotion/getting_processed_device-motion_data"},"Device motion")," in the Apple Developer documentation."),(0,r.yg)("p",null,"The playground below mimics the behaviour and returned values of selected sensors:"),(0,r.yg)(p,{usePlayground:i.Gb,mdxType:"InteractivePlayground"}),(0,r.yg)("h2",{id:"reference"},"Reference"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"import { useAnimatedSensor, SensorType } from 'react-native-reanimated';\n\nfunction App() {\n  const gyroscope = useAnimatedSensor(SensorType.GYROSCOPE);\n\n  useDerivedValue(() => {\n    const { x, y, z } = gyroscope.sensor.value;\n  });\n}\n")),(0,r.yg)("details",null,(0,r.yg)("summary",null,"Type definitions"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-typescript"},"// --- Function declaration ---\n\nfunction useAnimatedSensor(\n  sensorType: SensorType,\n  config?: Partial<SensorConfig>\n): AnimatedSensor<ValueRotation | Value3D>;\n\n// --- Configuration types ---\n\nenum SensorType {\n  ACCELEROMETER = 1,\n  GYROSCOPE = 2,\n  GRAVITY = 3,\n  MAGNETIC_FIELD = 4,\n  ROTATION = 5,\n}\n\ntype SensorConfig = {\n  interval: number | 'auto';\n  adjustToInterfaceOrientation: boolean;\n  iosReferenceFrame: IOSReferenceFrame;\n};\n\nenum IOSReferenceFrame {\n  XArbitraryZVertical,\n  XArbitraryCorrectedZVertical,\n  XMagneticNorthZVertical,\n  XTrueNorthZVertical,\n  Auto,\n}\n\n// --- Return types ---\n\ntype AnimatedSensor<T extends Value3D | ValueRotation> = {\n  sensor: SharedValue<T>;\n  unregister: () => void;\n  isAvailable: boolean;\n  config: SensorConfig;\n};\n\ntype Value3D = {\n  x: number;\n  y: number;\n  z: number;\n  interfaceOrientation: InterfaceOrientation;\n};\n\ntype ValueRotation = {\n  qw: number;\n  qx: number;\n  qy: number;\n  qz: number;\n  yaw: number;\n  pitch: number;\n  roll: number;\n  interfaceOrientation: InterfaceOrientation;\n};\n\nenum InterfaceOrientation {\n  ROTATION_0 = 0,\n  ROTATION_90 = 90,\n  ROTATION_180 = 180,\n  ROTATION_270 = 270,\n}\n"))),(0,r.yg)("h3",{id:"arguments"},"Arguments"),(0,r.yg)("h4",{id:"sensortype"},(0,r.yg)("inlineCode",{parentName:"h4"},"sensorType")),(0,r.yg)("p",null,"A type of a sensor to use. You specify the sensor type using a ",(0,r.yg)("inlineCode",{parentName:"p"},"SensorType")," enum containing fields:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ACCELEROMETER")," - measures the device acceleration along x, y, and z axes (excluding gravity) in m/s",(0,r.yg)("sup",null,"2"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"GYROSCOPE")," - measures the rate of rotation along x, y, and z axes in radians per second."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"GRAVITY")," - measures acceleration due to gravity along x, y, and z axes in m/s",(0,r.yg)("sup",null,"2"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"MAGNETIC_FIELD")," - measures the strength and direction of the Earth's magnetic field in microtesla (\u03bcT)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ROTATION")," - measures the device orientation in three dimensions. This sensor represents the rotation by both Euler angles (roll, pitch, and yaw) and a quaternion.")),(0,r.yg)("h4",{id:"config-"},(0,r.yg)("inlineCode",{parentName:"h4"},"config")," ",(0,r.yg)(y,{mdxType:"Optional"})),(0,r.yg)("p",null,"Available properties:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Name"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Default"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"interval"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},'number\uff5c"auto"')),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},'"auto"')),(0,r.yg)("td",{parentName:"tr",align:null},"Time in milliseconds between sensor readings. ",(0,r.yg)("inlineCode",{parentName:"td"},'"auto"')," matches the device's screen refresh rate.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"adjustToInterfaceOrientation"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"boolean")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"true")),(0,r.yg)("td",{parentName:"tr",align:null},"Whether to adjust measurements to the current interface orientation.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"iosReferenceFrame"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"IOSReferenceFrame")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"IOSReferenceFrame.Auto")),(0,r.yg)("td",{parentName:"tr",align:null},"The frame of reference for device's sensors on iOS.")))),(0,r.yg)("p",null,"You can specify the iOS reference frame using an ",(0,r.yg)("inlineCode",{parentName:"p"},"IOSReferenceFrame")," enum containing fields:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://developer.apple.com/documentation/coremotion/cmattitudereferenceframe/1615953-xarbitraryzvertical"},(0,r.yg)("inlineCode",{parentName:"a"},"xArbitraryZVertical"))," a reference frame where the Z axis is vertical and the X axis points in an arbitrary direction in the horizontal plane."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://developer.apple.com/documentation/coremotion/cmattitudereferenceframe/1615969-xarbitrarycorrectedzvertical"},(0,r.yg)("inlineCode",{parentName:"a"},"xArbitraryCorrectedZVertical"))," a reference frame where the Z axis is vertical and has improved rotation accuracy, and the X axis points in an arbitrary direction in the horizontal plane."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://developer.apple.com/documentation/coremotion/cmattitudereferenceframe/1616123-xmagneticnorthzvertical"},(0,r.yg)("inlineCode",{parentName:"a"},"XMagneticNorthZVertical"))," a reference frame where the Z axis is vertical and the X axis points to the magnetic north pole."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://developer.apple.com/documentation/coremotion/cmattitudereferenceframe/1616019-xtruenorthzvertical"},(0,r.yg)("inlineCode",{parentName:"a"},"XTrueNorthZVertical"))," a reference frame where the Z axis is vertical and the X axis points to the geographic north pole."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Auto")," on iOS devices without magnetometer (eg. iPods) ",(0,r.yg)("inlineCode",{parentName:"li"},"XArbitraryZVertical"),", on devices with magnetometer ",(0,r.yg)("inlineCode",{parentName:"li"},"XArbitraryCorrectedZVertical"))),(0,r.yg)("h3",{id:"returns"},"Returns"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"useAnimatedSensor")," returns an object containing these fields:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Name"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sensor"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SharedValue<Value3D\uff5cValueRotation>")),(0,r.yg)("td",{parentName:"tr",align:null},"A ",(0,r.yg)("a",{parentName:"td",href:"/docs/fundamentals/glossary#shared-value"},"shared value")," containing the sensor measurements. The values returned by the sensor depend on the type of sensor you choose with ",(0,r.yg)("a",{parentName:"td",href:"/docs/device/useAnimatedSensor#sensortype"},"sensorType")," argument.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"unregister"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"() => void")),(0,r.yg)("td",{parentName:"tr",align:null},"Allows to stop listening to sensor updates on call.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"isAvailable"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"boolean")),(0,r.yg)("td",{parentName:"tr",align:null},"Indicates whether sensor is available to use. You won't be able to use a sensor when it's missing from the device or the app doesn't have permission to access it.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"config"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"SensorConfig")),(0,r.yg)("td",{parentName:"tr",align:null},"An object containing sensor configuration.")))),(0,r.yg)("p",null,"The shared value returned from the ",(0,r.yg)("strong",{parentName:"p"},"rotation sensor")," is an object contain Euler angles, a quaternion and an interface orientation:"),(0,r.yg)("p",null,"Euler angles are:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"roll: number")," - a rotation in radians along an axis that goes from the top to the bottom of the device."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"pitch: number")," - a rotation in radians along an axis that goes from side to side of the device."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"yaw: number")," - a rotation in radians along an axis that goes from the front to the back of the device.")),(0,r.yg)("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"}},(0,r.yg)("div",{style:{maxWidth:200}},(0,r.yg)("img",{src:(0,s.A)("/img/rotation/roll.gif")}),(0,r.yg)("p",null,"Roll")),(0,r.yg)("div",{style:{maxWidth:200}},(0,r.yg)("img",{src:(0,s.A)("/img/rotation/pitch.gif")}),(0,r.yg)("p",null,"Pitch")),(0,r.yg)("div",{style:{maxWidth:200}},(0,r.yg)("img",{src:(0,s.A)("/img/rotation/yaw.gif")}),(0,r.yg)("p",null,"Yaw"))),(0,r.yg)("p",null,"Quaternion is a convenient way to represent rotations. Quaternion is based on complex numbers and isn't easy to understand intuitively. They simplify interpolation between two rotations.\nQuaternions are oftentimes used in computer graphics because they don't suffer from a ",(0,r.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Gimbal_lock"},"gimbal lock"),". Rotation sensor returns a quaternion in form of its components which are:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"qw: number")," - W component of the quaternion."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"qx: number")," - X component of the quaternion."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"qy: number")," - Y component of the quaternion."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"qz: number")," - Z component of the quaternion.")),(0,r.yg)("p",null,"and"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"interfaceOrientation: InterfaceOrientation"),".")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"All other sensors")," return an object with measurements in the x, y and z axes and the interface orientation:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"x")," - sensor measurement on the X axis."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"y")," - sensor measurement on the Y axis."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"z")," - sensor measurement on the Z axis."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"interfaceOrientation: InterfaceOrientation"),".")),(0,r.yg)("p",null,"Depending on the sensor type the measurement is a number in radians per second, m/s",(0,r.yg)("sup",null,"2")," or microtesla (\u03bcT)."),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"InterfaceOrientation")," is an enum containing these properties:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ROTATION_0")," - default rotation on Android, portrait orientation on iOS."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ROTATION_90")," - 90 degrees rotation on Android, landscape right orientation on iOS (landscape and home button on the right)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ROTATION_180")," - 180 degrees rotation on Android, upside down orientation on iOS."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ROTATION_270")," - 270 degrees rotation on Android, landscape left orientation on iOS (landscape and home button on the left).")),(0,r.yg)("h2",{id:"example"},"Example"),(0,r.yg)(g,{src:o,showLines:[9,29],mdxType:"CollapsibleCode"}),(0,r.yg)("h2",{id:"remarks"},"Remarks"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"On iOS, if you want to read sensor data you need to enable location services on your device (",(0,r.yg)("inlineCode",{parentName:"p"},"Settings > Privacy > Location Services"),").")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"On Web, the device needs to support sensors and your web application has to be connected over HTTPS.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Most of the sensors operate in resolutions up to 100Hz.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"You can read the sensor data on both ",(0,r.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#ui-thread"},"UI thread")," and ",(0,r.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#javascript-thread"},"JavaScript thread"),"."))),(0,r.yg)("h2",{id:"platform-compatibility"},"Platform compatibility"),(0,r.yg)("div",{className:"platform-compatibility"},(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Android"),(0,r.yg)("th",{parentName:"tr",align:null},"iOS"),(0,r.yg)("th",{parentName:"tr",align:null},"Web"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,r.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,r.yg)("td",{parentName:"tr",align:null},"\u2705"))))))}b.isMDXComponent=!0}}]);