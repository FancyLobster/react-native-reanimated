"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[7264],{15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>p});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,p=d["".concat(s,".").concat(m)]||d[m]||y[m]||i;return n?a.createElement(p,o(o({ref:t},u),{},{components:n})):a.createElement(p,o({ref:t},u))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},526:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>D,contentTitle:()=>w,default:()=>S,frontMatter:()=>v,metadata:()=>A,toc:()=>x});var a=n(58168),r=n(96540),i=n(15680),o=n(9176),l=n(80101),s=n(91691),c=n(50014),u=n(13843),d=n(70880),y=n(56798);const m=1e3,p=500,f=["React","Native","Reanimated"];function g(){const[e,t]=(0,r.useState)(!1),n=(0,c.U)(0),a=(0,c.U)(0),i=(0,c.U)(0);return r.createElement(o.A,{style:h.container},r.createElement(o.A,{style:h.text},r.createElement(y.n,{style:{...h.label,opacity:n}},f[0]),r.createElement(y.n,{style:{...h.label,opacity:a}},f[1]),r.createElement(y.n,{style:{...h.label,opacity:i}},f[2])),r.createElement(l.A,{title:e?"Hide":"Show",onPress:()=>{e?(i.value=(0,u.y)(0*p,(0,d.f)(0,{duration:m})),a.value=(0,u.y)(1*p,(0,d.f)(0,{duration:m})),n.value=(0,u.y)(2*p,(0,d.f)(0,{duration:m}))):(n.value=(0,u.y)(0*p,(0,d.f)(1,{duration:m})),a.value=(0,u.y)(1*p,(0,d.f)(1,{duration:m})),i.value=(0,u.y)(2*p,(0,d.f)(1,{duration:m}))),t(!e)}}))}const h=s.A.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},text:{flexDirection:"row"},tab:{paddingHorizontal:20,paddingVertical:10},label:{fontSize:42,textAlign:"center",fontWeight:"bold",marginRight:8},divider:{borderRightWidth:1,borderRightColor:"#ddd"},animatedBorder:{height:8,width:64,backgroundColor:"tomato",borderRadius:20}}),b="import React, { useState } from 'react';\nimport { Button, StyleSheet, View } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  withDelay,\n  withTiming,\n} from 'react-native-reanimated';\n\nconst DURATION = 1000;\nconst DELAY = 500;\n\nconst text = ['React', 'Native', 'Reanimated'];\n\nexport default function App() {\n  const [isShown, setShown] = useState(false);\n\n  const opacity1 = useSharedValue(0);\n  const opacity2 = useSharedValue(0);\n  const opacity3 = useSharedValue(0);\n\n  // prettier-ignore\n  const show = () => {\n    if (isShown) {\n      opacity3.value = withDelay(0 * DELAY, withTiming(0, { duration: DURATION }));\n      opacity2.value = withDelay(1 * DELAY, withTiming(0, { duration: DURATION }));\n      opacity1.value = withDelay(2 * DELAY, withTiming(0, { duration: DURATION }));\n    } else {\n      opacity1.value = withDelay(0 * DELAY, withTiming(1, { duration: DURATION }));\n      opacity2.value = withDelay(1 * DELAY, withTiming(1, { duration: DURATION }));\n      opacity3.value = withDelay(2 * DELAY, withTiming(1, { duration: DURATION }));\n    }\n\n    setShown(!isShown);\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.text}>\n        <Animated.Text style={{ ...styles.label, opacity: opacity1 }}>\n          {text[0]}\n        </Animated.Text>\n        <Animated.Text style={{ ...styles.label, opacity: opacity2 }}>\n          {text[1]}\n        </Animated.Text>\n        <Animated.Text style={{ ...styles.label, opacity: opacity3 }}>\n          {text[2]}\n        </Animated.Text>\n      </View>\n      <Button title={isShown ? 'Hide' : 'Show'} onPress={show} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  text: {\n    flexDirection: 'row',\n  },\n  tab: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n  },\n  label: {\n    fontSize: 42,\n    textAlign: 'center',\n    fontWeight: 'bold',\n    marginRight: 8,\n  },\n  divider: {\n    borderRightWidth: 1,\n    borderRightColor: '#ddd',\n  },\n  animatedBorder: {\n    height: 8,\n    width: 64,\n    backgroundColor: 'tomato',\n    borderRadius: 20,\n  },\n});\n",v={sidebar_position:6},w="withDelay",A={unversionedId:"animations/withDelay",id:"animations/withDelay",title:"withDelay",description:"withDelay is an animation modifier that lets you start an animation with a delay.",source:"@site/docs/animations/withDelay.mdx",sourceDirName:"animations",slug:"/animations/withDelay",permalink:"/react-native-reanimated/docs/animations/withDelay",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/tree/main/docs/docs/animations/withDelay.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"withRepeat",permalink:"/react-native-reanimated/docs/animations/withRepeat"},next:{title:"withClamp",permalink:"/react-native-reanimated/docs/animations/withClamp"}},D={},x=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>delayMs</code>",id:"delayms",level:4},{value:"<code>delayedAnimation</code>",id:"delayedanimation",level:4},{value:"<code>reduceMotion</code> <Optional />",id:"reducemotion-",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}],T=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.yg)("div",t)},O=T("Optional"),P=T("InteractiveExample"),N={toc:x},R="wrapper";function S(e){let{components:t,...n}=e;return(0,i.yg)(R,(0,a.A)({},N,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"withdelay"},"withDelay"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"withDelay")," is an ",(0,i.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#animation-modifier"},"animation modifier")," that lets you start an animation with a delay."),(0,i.yg)("h2",{id:"reference"},"Reference"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-javascript"},"import { withDelay } from 'react-native-reanimated';\n\nfunction App() {\n  sv.value = withDelay(500, withTiming(0));\n  // ...\n}\n")),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Type definitions"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-typescript"},"type AnimatableValue = number | string | number[];\n\nfunction withDelay<T extends AnimatableValue>(\n  delayMs: number,\n  delayedAnimation: T,\n  reduceMotion?: ReduceMotion\n): T;\n\nenum ReduceMotion {\n  System = 'system',\n  Always = 'always',\n  Never = 'never',\n}\n"))),(0,i.yg)("h3",{id:"arguments"},"Arguments"),(0,i.yg)("h4",{id:"delayms"},(0,i.yg)("inlineCode",{parentName:"h4"},"delayMs")),(0,i.yg)("p",null,"Duration (in milliseconds) before the animation starts."),(0,i.yg)("h4",{id:"delayedanimation"},(0,i.yg)("inlineCode",{parentName:"h4"},"delayedAnimation")),(0,i.yg)("p",null,"Animation to delay."),(0,i.yg)("h4",{id:"reducemotion-"},(0,i.yg)("inlineCode",{parentName:"h4"},"reduceMotion")," ",(0,i.yg)(O,{mdxType:"Optional"})),(0,i.yg)("p",null,"A parameter that determines how the animation responds to the device's reduced motion accessibility setting."),(0,i.yg)("h3",{id:"returns"},"Returns"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"withDelay")," returns an ",(0,i.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#animation-object"},"animation object")," which holds the current state of the animation. It can be either assigned directly to a ",(0,i.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared value")," or can be used as a value for a style object returned from ",(0,i.yg)("a",{parentName:"p",href:"docs/core/useAnimatedStyle"},"useAnimatedStyle"),"."),(0,i.yg)("h2",{id:"example"},"Example"),(0,i.yg)(P,{src:b,component:(0,i.yg)(g,{mdxType:"DelayText"}),mdxType:"InteractiveExample"}),(0,i.yg)("h2",{id:"platform-compatibility"},"Platform compatibility"),(0,i.yg)("div",{className:"platform-compatibility"},(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Android"),(0,i.yg)("th",{parentName:"tr",align:null},"iOS"),(0,i.yg)("th",{parentName:"tr",align:null},"Web"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"))))))}S.isMDXComponent=!0},24524:(e,t,n)=>{n.d(t,{G:()=>f});const a=4,r=.001,i=1e-7,o=10,l=11,s=1/(l-1);function c(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function d(e){return 3*e}function y(e,t,n){return((c(t,n)*e+u(t,n))*e+d(t))*e}function m(e,t,n){return 3*c(t,n)*e*e+2*u(t,n)*e+d(t)}function p(e,t,n,c){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("[Reanimated] Bezier x values must be in [0, 1] range.");if(e===t&&n===c)return function(e){return e};const u=new Array(l);for(let a=0;a<l;++a)u[a]=y(a*s,e,n);function d(t){let c=0,d=1;const p=l-1;for(;d!==p&&u[d]<=t;++d)c+=s;--d;const f=c+(t-u[d])/(u[d+1]-u[d])*s,g=m(f,e,n);return g>=r?function(e,t,n,r){for(let i=0;i<a;++i){const a=m(t,n,r);if(0===a)return t;t-=(y(t,n,r)-e)/a}return t}(t,f,e,n):0===g?f:function(e,t,n,a,r){let l,s,c=0;do{s=t+(n-t)/2,l=y(s,a,r)-e,l>0?n=s:t=s}while(Math.abs(l)>i&&++c<o);return s}(t,c,c+s,e,n)}return function(a){return e===t&&n===c?a:0===a?0:1===a?1:y(d(a),t,c)}}const f={linear:function(e){return e},ease:function(e){return p(.42,0,1,1)(e)},quad:function(e){return e*e},cubic:function(e){return e*e*e},poly:function(e){return t=>Math.pow(t,e)},sin:function(e){return 1-Math.cos(e*Math.PI/2)},circle:function(e){return 1-Math.sqrt(1-e*e)},exp:function(e){return Math.pow(2,10*(e-1))},elastic:function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*e)},back:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return t=>t*t*((e+1)*t-e)},bounce:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){const t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){const t=e-2.25/2.75;return 7.5625*t*t+.9375}const t=e-2.625/2.75;return 7.5625*t*t+.984375},bezier:function(e,t,n,a){return{factory:()=>p(e,t,n,a)}},bezierFn:function(e,t,n,a){return p(e,t,n,a)},steps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n=>{const a=Math.min(Math.max(n,0),1)*e;return t?Math.ceil(a)/e:Math.floor(a)/e}},in:function(e){return e},out:function(e){return t=>1-e(1-t)},inOut:function(e){return t=>t<.5?e(2*t)/2:1-e(2*(1-t))/2}}},13843:(e,t,n)=>{n.d(t,{y:()=>r});var a=n(49253);const r=function(e,t,n){return(0,a.yK)(t,(()=>{const r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){const{startTime:a,started:i,previousAnimation:o}=t,l=t.current;if(n-a>e||t.reduceMotion){i||(r.onStart(r,l,n,o),t.previousAnimation=null,t.started=!0);const e=r.onFrame(r,n);return t.current=r.current,e}if(o){const e=o.finished||o.onFrame(o,n);t.current=o.current,e&&(t.previousAnimation=null)}return!1},onStart:function(e,t,n,a){e.startTime=n,e.started=!1,e.current=t,e.previousAnimation=a===e?a.previousAnimation:a,void 0===r.reduceMotion&&(r.reduceMotion=e.reduceMotion)},current:r.current,callback:e=>{r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1,reduceMotion:(0,a.AR)(n)}}))}},70880:(e,t,n)=>{n.d(t,{f:()=>i});var a=n(24524),r=n(49253);const i=function(e,t,n){return(0,r.yK)(e,(()=>{const i={duration:300,easing:a.G.inOut(a.G.quad)};return t&&Object.keys(t).forEach((e=>i[e]=t[e])),{type:"timing",onFrame:function(e,t){const{toValue:n,startTime:a,startValue:r}=e,o=t-a;if(o>=i.duration)return e.startTime=0,e.current=n,!0;const l=e.easing(o/i.duration);return e.current=r+(n-r)*l,!1},onStart:function(t,n,a,r){r&&"timing"===r.type&&r.toValue===e&&r.startTime?(t.startTime=r.startTime,t.startValue=r.startValue):(t.startTime=a,t.startValue=n),t.current=n,"object"==typeof i.easing?t.easing=i.easing.factory():t.easing=i.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:()=>0,current:e,callback:n,reduceMotion:(0,r.AR)(null==t?void 0:t.reduceMotion)}}))}},56798:(e,t,n)=>{n.d(t,{n:()=>r});var a=n(78506);const r=(0,n(72089).b)(a.A)},80101:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(96540),r=n(91691),i=n(58168),o=n(98587),l=n(11804),s=n(17069),c=n(9176),u=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function d(e,t){var n=e.activeOpacity,r=e.delayPressIn,d=e.delayPressOut,m=e.delayLongPress,p=e.disabled,f=e.focusable,g=e.onLongPress,h=e.onPress,b=e.onPressIn,v=e.onPressOut,w=e.rejectResponderTermination,A=e.style,D=(0,o.A)(e,u),x=(0,a.useRef)(null),T=(0,l.A)(t,x),O=(0,a.useState)("0s"),P=O[0],N=O[1],R=(0,a.useState)(null),S=R[0],M=R[1],E=(0,a.useCallback)(((e,t)=>{M(e),N(t?t/1e3+"s":"0s")}),[M,N]),C=(0,a.useCallback)((e=>{E(null!=n?n:.2,e)}),[n,E]),j=(0,a.useCallback)((e=>{E(null,e)}),[E]),k=(0,a.useMemo)((()=>({cancelable:!w,disabled:p,delayLongPress:m,delayPressStart:r,delayPressEnd:d,onLongPress:g,onPress:h,onPressStart(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;C(t?0:150),null!=b&&b(e)},onPressEnd(e){j(250),null!=v&&v(e)}})),[m,r,d,p,g,h,b,v,w,C,j]),I=(0,s.A)(x,k);return a.createElement(c.A,(0,i.A)({},D,I,{accessibilityDisabled:p,focusable:!p&&!1!==f,pointerEvents:p?"none":void 0,ref:T,style:[y.root,!p&&y.actionable,A,null!=S&&{opacity:S},{transitionDuration:P}]}))}var y=r.A.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),m=a.memo(a.forwardRef(d));m.displayName="TouchableOpacity";const p=m;var f=n(78506),g=a.forwardRef(((e,t)=>{var n=e.accessibilityLabel,r=e.color,i=e.disabled,o=e.onPress,l=e.testID,s=e.title;return a.createElement(p,{accessibilityLabel:n,accessibilityRole:"button",disabled:i,focusable:!i,onPress:o,ref:t,style:[h.button,r&&{backgroundColor:r},i&&h.buttonDisabled],testID:l},a.createElement(f.A,{style:[h.text,i&&h.textDisabled]},s))}));g.displayName="Button";var h=r.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const b=g}}]);