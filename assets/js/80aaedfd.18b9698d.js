"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[3474],{63879:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>O,contentTitle:()=>C,default:()=>N,frontMatter:()=>x,metadata:()=>A,toc:()=>E});var o=n(83117),r=n(67294),a=n(3905),l=n(67177),i=n(24404),s=n(72862),u=n(92747),c=n(82334),d=n(22238),p=n(56389),m=n(72290),f=n(33705),h=n(78069),S=n(68592);const v={code:'function anonymous(){const{offset}=this.__closure;return"offset: "+offset.value.toFixed(1);}'};function R(){const e=(0,c.m)(),t=(0,d.b)(e),n=(0,p.o)(function(){const e=()=>`offset: ${t.value.toFixed(1)}`;return e.__closure={offset:t},e.__initData=v,e.__workletHash=0xb03706a8856,e}());return r.createElement(l.Z,{style:g.container},r.createElement(w,{text:n}),r.createElement(m.n,{ref:e},Array.from({length:10}).map(((e,t)=>r.createElement(l.Z,{key:t,style:g.box},r.createElement(i.Z,{style:g.center},t))))))}const g=s.Z.create({container:{alignItems:"center",height:250},box:{width:100,height:100,margin:10,borderRadius:15,backgroundColor:"#b58df1",alignItems:"center",justifyContent:"center"},center:{textAlign:"center"}}),b=f.F(u.Z);h.Yv({text:!0});const y={code:"function anonymous(){const{text}=this.__closure;return{text:text.value};}"};function w(e){let{text:t,...n}=e;const a=(0,S.u)(function(){const e=()=>({text:t.value});return e.__closure={text:t},e.__initData=y,e.__workletHash=6805794311032,e}());return r.createElement(b,(0,o.Z)({editable:!1},n,{value:t.value,animatedProps:a}))}const k="import React from 'react';\nimport { View, Text, StyleSheet, TextInput } from 'react-native';\nimport Animated, {\n  useAnimatedProps,\n  useAnimatedRef,\n  useDerivedValue,\n  useScrollViewOffset,\n} from 'react-native-reanimated';\n\nexport default function App() {\n  const animatedRef = useAnimatedRef();\n  // highlight-start\n  const offset = useScrollViewOffset(animatedRef);\n  const text = useDerivedValue(() => `offset: ${offset.value.toFixed(1)}`);\n  // highlight-end\n\n  return (\n    <View style={styles.container}>\n      <AnimatedText text={text} />\n      <Animated.ScrollView ref={animatedRef}>\n        {Array.from({ length: 10 }).map((_, i) => (\n          <View key={i} style={styles.box}>\n            <Text style={styles.center}>{i}</Text>\n          </View>\n        ))}\n      </Animated.ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    height: 250,\n  },\n  box: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    borderRadius: 15,\n    backgroundColor: '#b58df1',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  center: {\n    textAlign: 'center',\n  },\n});\n\nconst AnimatedTextInput = Animated.createAnimatedComponent(TextInput);\nAnimated.addWhitelistedNativeProps({ text: true });\n\nfunction AnimatedText({ text, ...props }) {\n  const animatedProps = useAnimatedProps(() => ({ text: text.value }));\n  return (\n    <AnimatedTextInput\n      editable={false}\n      {...props}\n      value={text.value}\n      animatedProps={animatedProps}\n    />\n  );\n}\n",x={sidebar_position:2},C="useScrollViewOffset",A={unversionedId:"scroll/useScrollViewOffset",id:"scroll/useScrollViewOffset",title:"useScrollViewOffset",description:"useScrollViewOffset lets you to create animations based on the offset of a ScrollView.",source:"@site/docs/scroll/useScrollViewOffset.mdx",sourceDirName:"scroll",slug:"/scroll/useScrollViewOffset",permalink:"/react-native-reanimated/docs/scroll/useScrollViewOffset",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/tree/main/docs/docs/scroll/useScrollViewOffset.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"scrollTo",permalink:"/react-native-reanimated/docs/scroll/scrollTo"},next:{title:"useAnimatedScrollHandler",permalink:"/react-native-reanimated/docs/scroll/useAnimatedScrollHandler"}},O={},E=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>animatedRef</code>",id:"animatedref",level:4},{value:"<code>initialRef</code> <Optional/>",id:"initialref-",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}],T=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},_=T("Optional"),V=T("InteractiveExample"),Z={toc:E},j="wrapper";function N(e){let{components:t,...n}=e;return(0,a.kt)(j,(0,o.Z)({},Z,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"usescrollviewoffset"},"useScrollViewOffset"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useScrollViewOffset")," lets you to create animations based on the offset of a ",(0,a.kt)("inlineCode",{parentName:"p"},"ScrollView"),".\nThe hook automatically detects if the ",(0,a.kt)("inlineCode",{parentName:"p"},"ScrollView")," is horizontal or vertical."),(0,a.kt)("h2",{id:"reference"},"Reference"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useScrollViewOffset } from 'react-native-reanimated';\n\nfunction App() {\n  const animatedRef = useAnimatedRef();\n  // highlight-next-line\n  const scrollOffset = useScrollViewOffset(animatedRef);\n  return (\n    <Animated.ScrollView ref={animatedRef}>{/* ... */}</Animated.ScrollView>\n  );\n}\n")),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Type definitions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"function useScrollViewOffset(\n  animatedRef: AnimatedRef<AnimatedScrollView>,\n  initialRef?: SharedValue<number>\n): SharedValue<number>;\n"))),(0,a.kt)("h3",{id:"arguments"},"Arguments"),(0,a.kt)("h4",{id:"animatedref"},(0,a.kt)("inlineCode",{parentName:"h4"},"animatedRef")),(0,a.kt)("p",null,"An ",(0,a.kt)("a",{parentName:"p",href:"/docs/core/useAnimatedRef#returns"},"animated ref")," connected to the ScrollView component you'd want to scroll on. The animated ref has to be passed either to an ",(0,a.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#animated-component"},"Animated component")," or a React Native built-in component."),(0,a.kt)("h4",{id:"initialref-"},(0,a.kt)("inlineCode",{parentName:"h4"},"initialRef")," ",(0,a.kt)(_,{mdxType:"Optional"})),(0,a.kt)("p",null,"An optional shared value to be updated with the scroll offset. If not provided a new shared value will be created internally."),(0,a.kt)("h3",{id:"returns"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"useScrollViewOffset")," returns a ",(0,a.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared value")," which holds the current offset of the ",(0,a.kt)("inlineCode",{parentName:"p"},"ScrollView"),"."),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(V,{src:k,component:(0,a.kt)(R,{mdxType:"ScrollViewOffset"}),showCode:!0,mdxType:"InteractiveExample"}),(0,a.kt)("h2",{id:"platform-compatibility"},"Platform compatibility"),(0,a.kt)("div",{className:"platform-compatibility"},(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Android"),(0,a.kt)("th",{parentName:"tr",align:null},"iOS"),(0,a.kt)("th",{parentName:"tr",align:null},"Web"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,a.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,a.kt)("td",{parentName:"tr",align:null},"\u274c"))))))}N.isMDXComponent=!0},68592:(e,t,n)=>{n.d(t,{u:()=>a});var o=n(35842),r=n(83442);let a;a=(0,r.Wr)()?function(e,t,n){return(0,o.l)(e,t,n,!0)}:o.l},35842:(e,t,n)=>{n.d(t,{l:()=>S});var o=n(67294),r=n(96085),a=n(97604),l=n(49402),i=n(76933),s=n(10758),u=n(40093),c=n(41956),d=n(83442);const p=(0,d.Wr)();function m(e,t,n,o){if(Array.isArray(t)&&t.forEach(((t,r)=>{m(e,t,n&&n[r],o&&o[r])})),"object"==typeof t&&t.onFrame){const r=t;let a=r.current;void 0!==o&&("object"==typeof o?void 0!==o.value?a=o.value:void 0!==o.onFrame&&(void 0!==(null==n?void 0:n.current)?a=n.current:void 0!==(null==o?void 0:o.current)&&(a=o.current)):a=o),r.callStart=e=>{r.onStart(r,a,e,n)},r.callStart(e),r.callStart=null}else"object"==typeof t&&Object.keys(t).forEach((r=>m(e,t[r],n&&n[r],o&&o[r])))}function f(e,t,n,o,r){if(!r.value)return!0;if(Array.isArray(e)){o[n]=[];let a=!0;return e.forEach(((e,l)=>{f(e,t,l,o[n],r)||(a=!1)})),a}if("object"==typeof e&&e.onFrame){let r=!0;return e.finished||(e.callStart&&(e.callStart(t),e.callStart=null),r=e.onFrame(e,t),e.timestamp=t,r&&(e.finished=!0,e.callback&&e.callback(!0))),o[n]=e.current,r}if("object"==typeof e){o[n]={};let a=!0;return Object.keys(e).forEach((l=>{f(e[l],t,l,o[n],r)||(a=!1)})),a}return o[n]=e,!0}function h(e,t){if(Array.isArray(e))for(const n of e)h(n,t);else if("object"==typeof e&&null!==e&&void 0===e.value)for(const n of Object.keys(e))h(e[n],n);else if(void 0!==t&&"object"==typeof e&&null!==e&&void 0!==e.value)throw new Error(`[Reanimated] Invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}function S(e,t,S){let v=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const R=(0,c.H)(),g=(0,o.useRef)();let b=Object.values(e.__closure??{});var y;p&&(!b.length&&null!==(y=t)&&void 0!==y&&y.length&&(b=t));const w=S?Array.isArray(S)?S:[S]:[],k=S?(0,u.Nq)(w):null,x=(0,s.y)(!0),C=(0,o.useRef)({});if(t?t.push(e.__workletHash):t=[...b,e.__workletHash],k&&t.push(k),!g.current){const t=(0,i.AX)(e);(0,u.Dl)(t),g.current={initial:{value:t,updater:e},remoteState:(0,r.I1)({last:t,animations:{},isAnimationCancelled:!1,isAnimationRunning:!1}),viewDescriptors:(0,c.G)()}}const{initial:A,remoteState:O,viewDescriptors:E}=g.current,T=E.shareableViewDescriptors,_=p?R:void 0;return t.push(T),(0,o.useEffect)((()=>{let t,o=e;S&&(o=()=>{const t=e();return w.forEach((e=>{e(t)})),t}),t=(0,d.V5)()?()=>{!function(e,t,o,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];const c=o.animations??{},d=t()??{},p=o.last;let h,S=!1;Object.keys(c).forEach((e=>{const t=d[e];(0,u.mE)(t)||delete c[e]})),Object.keys(d).forEach((e=>{const t=d[e];(0,u.mE)(t)&&(h=n.g.__frameTimestamp||_getAnimationTimestamp(),m(h,t,c[e],p[e]),c[e]=t,S=!0)})),S?(o.animations=c,o.isAnimationRunning||(o.isAnimationCancelled=!1,o.isAnimationRunning=!0,function t(n){const{animations:u,last:c,isAnimationCancelled:d}=o;if(d)return void(o.isAnimationRunning=!1);const p={};let m=!0;Object.keys(u).forEach((e=>{f(u[e],n,e,p,a)?(c[e]=p[e],delete u[e]):m=!1})),Object.keys(p).length&&(0,l.R)(e,p,r,i,s),m?o.isAnimationRunning=!1:requestAnimationFrame(t)}(h))):(o.isAnimationCancelled=!0,o.animations=[]),o.last=d,(0,u.wU)(p,d)||(0,l.R)(e,d,r,i,s)}(T,e,O,_,x,C,w)}:()=>{!function(e,t,o,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=o.animations??{},c=t()??{},d=o.last,p={};let h,S=!1,v=!1;for(const l in c){const e=c[l];(0,u.mE)(e)?(h=n.g.__frameTimestamp||_getAnimationTimestamp(),m(h,e,s[l],d[l]),s[l]=e,S=!0):(v=!0,p[l]=e,delete s[l])}if(S){const t=n=>{const{animations:i,last:s,isAnimationCancelled:u}=o;if(u)return void(o.isAnimationRunning=!1);const c={};let d=!0;for(const e in i)f(i[e],n,e,c,a)?(s[e]=c[e],delete i[e]):d=!1;c&&(0,l.Z)(e,c,r),d?o.isAnimationRunning=!1:requestAnimationFrame(t)};o.animations=s,o.isAnimationRunning||(o.isAnimationCancelled=!1,o.isAnimationRunning=!0,t(h)),v&&(0,l.Z)(e,p,r)}else o.isAnimationCancelled=!0,o.animations=[],(0,u.wU)(d,c)||(0,l.Z)(e,c,r,i);o.last=c}(T,o,O,_,x,v)};const r=(0,a.R)(t,b);return()=>{(0,a.B)(r)}}),t),(0,o.useEffect)((()=>(x.value=!0,()=>{x.value=!1})),[]),h(A.value),(0,d.V5)()?{viewDescriptors:E,initial:A,viewsRef:R,animatedStyle:C}:{viewDescriptors:E,initial:A,viewsRef:R}}},40093:(e,t,n)=>{function o(e){return Object.values(e).reduce(((e,t)=>e+t.__workletHash.toString()),"")}function r(e,t){const n=Object.values(t).filter((e=>void 0!==e));return e?e.push(o(n)):e=n.map((e=>({workletHash:e.__workletHash,closure:e.__closure}))),e}function a(e,t){const n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};return function(e,t){if(!e||!t||t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!n(e[o],t[o]))return!1;return!0}(e,t)}function l(e){return Array.isArray(e)?e.some(l):"object"==typeof e&&null!==e&&(void 0!==e.onFrame||Object.values(e).some(l))}function i(e,t){const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r=0;r<n.length;r++)if(e[n[r]]!==t[n[r]])return!1;return!0}function s(e){if("object"!=typeof e)throw new Error(`[Reanimated] \`useAnimatedStyle\` has to return an object, found ${typeof e} instead.`);if(Array.isArray(e))throw new Error("[Reanimated] `useAnimatedStyle` has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.")}n.d(t,{C1:()=>r,Dl:()=>s,Nq:()=>o,mE:()=>l,qD:()=>a,wU:()=>i})},24404:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(3058),r=n(80102),a=n(67294),l=n(37353),i=n(13250),s=n(45819),u=n(30042),c=n(16528),d=n(60091),p=n(72359),m=n(72862),f=n(84370),h=n(72931),S=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],v=Object.assign({},i.lG,i.LO,i._T,i.YB,i.Uy,i.hJ,i.E5,i.vr,{href:!0,lang:!0,pointerEvents:!0}),R=a.forwardRef(((e,t)=>{var n=e.hrefAttrs,o=e.numberOfLines,i=e.onClick,m=e.onLayout,R=e.onPress,g=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,w=e.onResponderEnd,k=e.onResponderGrant,x=e.onResponderMove,C=e.onResponderReject,A=e.onResponderRelease,O=e.onResponderStart,E=e.onResponderTerminate,T=e.onResponderTerminationRequest,_=e.onScrollShouldSetResponder,V=e.onScrollShouldSetResponderCapture,Z=e.onSelectionChangeShouldSetResponder,j=e.onSelectionChangeShouldSetResponderCapture,N=e.onStartShouldSetResponder,M=e.onStartShouldSetResponderCapture,D=e.selectable,F=(0,r.Z)(e,S),P=a.useContext(f.Z),I=a.useRef(null),L=(0,h.PE)().direction;(0,u.Z)(I,m),(0,p.Z)(I,{onMoveShouldSetResponder:g,onMoveShouldSetResponderCapture:y,onResponderEnd:w,onResponderGrant:k,onResponderMove:x,onResponderReject:C,onResponderRelease:A,onResponderStart:O,onResponderTerminate:E,onResponderTerminationRequest:T,onScrollShouldSetResponder:_,onScrollShouldSetResponderCapture:V,onSelectionChangeShouldSetResponder:Z,onSelectionChangeShouldSetResponderCapture:j,onStartShouldSetResponder:N,onStartShouldSetResponderCapture:M});var H=a.useCallback((e=>{null!=i?i(e):null!=R&&(e.stopPropagation(),R(e))}),[i,R]),W=P?"span":"div",q=null!=e.lang?(0,h.w1)(e.lang):null,z=e.dir||q,$=z||L,G=(e=>(0,s.Z)(e,v))(F);if(G.dir=z,P||(G.dir=null!=z?z:"auto"),(i||R)&&(G.onClick=H),G.style=[null!=o&&o>1&&{WebkitLineClamp:o},!0===P?b.textHasAncestor$raw:b.text$raw,1===o&&b.textOneLine,null!=o&&o>1&&b.textMultiLine,e.style,!0===D&&b.selectable,!1===D&&b.notSelectable,R&&b.pressable],null!=e.href&&(W="a",null!=n)){var B=n.download,U=n.rel,K=n.target;null!=B&&(G.download=B),null!=U&&(G.rel=U),"string"==typeof K&&(G.target="_"!==K.charAt(0)?"_"+K:K)}var X=(0,d.Z)(G),Y=(0,c.Z)(I,X,t);G.ref=Y;var J=(0,l.Z)(W,G,{writingDirection:$});return P?J:a.createElement(f.Z.Provider,{value:!0},J)}));R.displayName="Text";var g={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,textAlign:"inherit",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},b=m.Z.create({text$raw:g,textHasAncestor$raw:(0,o.Z)((0,o.Z)({},g),{},{color:"inherit",font:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const y=R},92747:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(67294),r=n(37353),a=n(13250),l=n(45819),i=n(30042),s=n(39863),u=n(16528),c=n(60091),d=n(72359),p=n(72931),m=n(72862),f=n(3177),h=Object.assign({},a.lG,a.LO,a._T,a.YB,a.Uy,a.hJ,a.E5,a.vr,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var S=null,v=o.forwardRef(((e,t)=>{var n,a,m=e.autoCapitalize,v=void 0===m?"sentences":m,g=e.autoComplete,b=e.autoCompleteType,y=e.autoCorrect,w=void 0===y||y,k=e.blurOnSubmit,x=e.clearTextOnFocus,C=e.dir,A=e.editable,O=void 0===A||A,E=e.keyboardType,T=void 0===E?"default":E,_=e.multiline,V=void 0!==_&&_,Z=e.numberOfLines,j=void 0===Z?1:Z,N=e.onBlur,M=e.onChange,D=e.onChangeText,F=e.onContentSizeChange,P=e.onFocus,I=e.onKeyPress,L=e.onLayout,H=e.onMoveShouldSetResponder,W=e.onMoveShouldSetResponderCapture,q=e.onResponderEnd,z=e.onResponderGrant,$=e.onResponderMove,G=e.onResponderReject,B=e.onResponderRelease,U=e.onResponderStart,K=e.onResponderTerminate,X=e.onResponderTerminationRequest,Y=e.onScrollShouldSetResponder,J=e.onScrollShouldSetResponderCapture,Q=e.onSelectionChange,ee=e.onSelectionChangeShouldSetResponder,te=e.onSelectionChangeShouldSetResponderCapture,ne=e.onStartShouldSetResponder,oe=e.onStartShouldSetResponderCapture,re=e.onSubmitEditing,ae=e.placeholderTextColor,le=e.returnKeyType,ie=e.secureTextEntry,se=void 0!==ie&&ie,ue=e.selection,ce=e.selectTextOnFocus,de=e.spellCheck;switch(T){case"email-address":n="email";break;case"number-pad":case"numeric":a="numeric";break;case"decimal-pad":a="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}se&&(n="password");var pe=o.useRef({height:null,width:null}),me=o.useRef(null),fe=o.useCallback((e=>{if(V&&F&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===pe.current.height&&n===pe.current.width||(pe.current.height=t,pe.current.width=n,F({nativeEvent:{contentSize:{height:pe.current.height,width:pe.current.width}}}))}}),[V,F]),he=o.useMemo((()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&f.Z.currentlyFocusedField()===e},fe(e))}),[fe]);(0,s.Z)((()=>{var e=me.current;null!=e&&null!=ue&&((e,t)=>{if(((e,t)=>{var n=e.selectionEnd,o=e.selectionStart,r=t.start,a=t.end;return r!==o||a!==n})(e,t)){var n=t.start,o=t.end;try{e.setSelectionRange(n,o||n)}catch(r){}}})(e,ue),document.activeElement===e&&(f.Z._currentlyFocusedNode=e)}),[me,ue]);var Se=V?"textarea":"input";(0,i.Z)(me,L),(0,d.Z)(me,{onMoveShouldSetResponder:H,onMoveShouldSetResponderCapture:W,onResponderEnd:q,onResponderGrant:z,onResponderMove:$,onResponderReject:G,onResponderRelease:B,onResponderStart:U,onResponderTerminate:K,onResponderTerminationRequest:X,onScrollShouldSetResponder:Y,onScrollShouldSetResponderCapture:J,onSelectionChangeShouldSetResponder:ee,onSelectionChangeShouldSetResponderCapture:te,onStartShouldSetResponder:ne,onStartShouldSetResponderCapture:oe});var ve=(0,p.PE)().direction,Re=(e=>(0,l.Z)(e,h))(e);Re.autoCapitalize=v,Re.autoComplete=g||b||"on",Re.autoCorrect=w?"on":"off",Re.dir=void 0!==C?C:"auto",Re.enterKeyHint=le,Re.inputMode=a,Re.onBlur=function(e){f.Z._currentlyFocusedNode=null,N&&(e.nativeEvent.text=e.target.value,N(e))},Re.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,fe(t),M&&M(e),D&&D(n)},Re.onFocus=function(e){var t=e.target;P&&(e.nativeEvent.text=t.value,P(e)),null!=t&&(f.Z._currentlyFocusedNode=t,x&&(t.value=""),ce&&(null!=S&&clearTimeout(S),S=setTimeout((()=>{null!=t&&t.select()}),0)))},Re.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==k?!V:k,o=e.nativeEvent,r=function(e){return e.isComposing||229===e.keyCode}(o);I&&I(e),"Enter"!==e.key||e.shiftKey||r||e.isDefaultPrevented()||(!k&&V||!re||(e.preventDefault(),o.text=e.target.value,re(e)),n&&null!=t&&setTimeout((()=>t.blur()),0))},Re.onSelect=function(e){if(Q)try{var t=e.target,n=t.selectionStart,o=t.selectionEnd;e.nativeEvent.selection={start:n,end:o},e.nativeEvent.text=e.target.value,Q(e)}catch(e){}},Re.readOnly=!O,Re.rows=V?j:void 0,Re.spellCheck=null!=de?de:w,Re.style=[{"--placeholderTextColor":ae},R.textinput$raw,R.placeholder,e.style],Re.type=V?void 0:n;var ge=(0,c.Z)(Re),be=(0,u.Z)(me,ge,he,t);Re.ref=be;var ye=null!=e.lang?(0,p.w1)(e.lang):null,we=e.dir||ye||ve;return(0,r.Z)(Se,Re,{writingDirection:we})}));v.displayName="TextInput",v.State=f.Z;var R=m.Z.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"}});const g=v}}]);