"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[4432],{15680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>y});var a=t(96540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(t),p=r,y=d["".concat(s,".").concat(p)]||d[p]||m[p]||i;return t?a.createElement(y,o(o({ref:n},u),{},{components:t})):a.createElement(y,o({ref:n},u))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},48848:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>P,default:()=>T,frontMatter:()=>A,metadata:()=>w,toc:()=>O});var a=t(58168),r=t(96540),i=t(15680),o=t(9176),l=t(80101),s=t(91691),c=t(50014),u=t(83562),d=t(29241),m=t(70880),p=t(49253),y=t(92220);const f=200,g={code:"function anonymous(){const{offset}=this.__closure;return{transform:[{translateX:offset.value}]};}"};function b(){const e=(0,c.U)(f),n=(0,u.m)(function(){const n=()=>({transform:[{translateX:e.value}]});return n.__closure={offset:e},n.__workletHash=0xf945d52c70d,n.__initData=g,n}()),t=()=>{e.value=(0,d.E)((0,m.f)(e.value>0?-f:f,{duration:1500}),-1,!0)};r.useEffect((()=>{t()}),[]);return r.createElement(o.A,{style:h.container},r.createElement(y.X,{style:[h.box,n]}),r.createElement(o.A,{style:h.row},r.createElement(l.A,{title:"Cancel animation",onPress:()=>{(0,p.px)(e)}}),r.createElement(l.A,{title:"Start animation",onPress:t})))}const h=s.A.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},box:{height:120,width:120,backgroundColor:"#b58df1",borderRadius:20,marginBottom:30},row:{flexDirection:"row",gap:10}}),v="import React from 'react';\nimport { StyleSheet, View, Button } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  useAnimatedStyle,\n  withTiming,\n  withRepeat,\n  cancelAnimation,\n} from 'react-native-reanimated';\n\nconst OFFSET = 200;\n\nexport default function App() {\n  const offset = useSharedValue(OFFSET);\n\n  const animatedStyles = useAnimatedStyle(() => ({\n    transform: [{ translateX: offset.value }],\n  }));\n\n  const startAnimation = () => {\n    offset.value = withRepeat(\n      withTiming(offset.value > 0 ? -OFFSET : OFFSET, { duration: 1500 }),\n      -1,\n      true\n    );\n  };\n\n  React.useEffect(() => {\n    startAnimation();\n  }, []);\n\n  const handleCancelAnimation = () => {\n    // highlight-next-line\n    cancelAnimation(offset);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Animated.View style={[styles.box, animatedStyles]} />\n      <View style={styles.row}>\n        <Button title=\"Cancel animation\" onPress={handleCancelAnimation} />\n        <Button title=\"Start animation\" onPress={startAnimation} />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  box: {\n    height: 120,\n    width: 120,\n    backgroundColor: '#b58df1',\n    borderRadius: 20,\n    marginBottom: 30,\n  },\n  row: {\n    flexDirection: 'row',\n    gap: 10,\n  },\n});\n",A={sidebar_position:7},P="cancelAnimation",w={unversionedId:"core/cancelAnimation",id:"core/cancelAnimation",title:"cancelAnimation",description:"cancelAnimation lets you cancel a running animation paired to a shared value.",source:"@site/docs/core/cancelAnimation.mdx",sourceDirName:"core",slug:"/core/cancelAnimation",permalink:"/react-native-reanimated/docs/core/cancelAnimation",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/tree/main/docs/docs/core/cancelAnimation.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"createAnimatedComponent",permalink:"/react-native-reanimated/docs/core/createAnimatedComponent"},next:{title:"Scroll",permalink:"/react-native-reanimated/docs/category/scroll"}},x={},O=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>sharedValue</code>",id:"sharedvalue",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Remarks",id:"remarks",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}],C=(E="InteractiveExample",function(e){return console.warn("Component "+E+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.yg)("div",e)});var E;const S={toc:O},N="wrapper";function T(e){let{components:n,...t}=e;return(0,i.yg)(N,(0,a.A)({},S,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"cancelanimation"},"cancelAnimation"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"cancelAnimation")," lets you cancel a running animation paired to a ",(0,i.yg)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared value"),"."),(0,i.yg)("h2",{id:"reference"},"Reference"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-javascript"},"import { cancelAnimation } from 'react-native-reanimated';\n\nfunction App() {\n  const offset = useSharedValue(100);\n\n  const handleCancel = () => {\n    // highlight-next-line\n    cancelAnimation(offset);\n  };\n}\n")),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Type definitions"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-typescript"},"type SharedValue<T> = { value: T };\n\nfunction cancelAnimation<T>(sharedValue: SharedValue<T>): void;\n"))),(0,i.yg)("h3",{id:"arguments"},"Arguments"),(0,i.yg)("h4",{id:"sharedvalue"},(0,i.yg)("inlineCode",{parentName:"h4"},"sharedValue")),(0,i.yg)("p",null,"The shared value of a running animation that you want to cancel. If no animation is running, the ",(0,i.yg)("inlineCode",{parentName:"p"},"cancelAnimation")," function does nothing."),(0,i.yg)("h3",{id:"returns"},"Returns"),(0,i.yg)("p",null,(0,i.yg)("inlineCode",{parentName:"p"},"cancelAnimation")," returns ",(0,i.yg)("inlineCode",{parentName:"p"},"undefined"),"."),(0,i.yg)("h2",{id:"example"},"Example"),(0,i.yg)(C,{src:v,component:(0,i.yg)(b,{mdxType:"CancelAnimation"}),mdxType:"InteractiveExample"}),(0,i.yg)("h2",{id:"remarks"},"Remarks"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"You can resume the animation by assigning the same animation (i.e. ",(0,i.yg)("inlineCode",{parentName:"li"},"withSpring"),", ",(0,i.yg)("inlineCode",{parentName:"li"},"withTiming"),") to the shared value again.")),(0,i.yg)("h2",{id:"platform-compatibility"},"Platform compatibility"),(0,i.yg)("div",{className:"platform-compatibility"},(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Android"),(0,i.yg)("th",{parentName:"tr",align:null},"iOS"),(0,i.yg)("th",{parentName:"tr",align:null},"Web"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,i.yg)("td",{parentName:"tr",align:null},"\u2705"))))))}T.isMDXComponent=!0},80101:(e,n,t)=>{t.d(n,{A:()=>h});var a=t(96540),r=t(91691),i=t(58168),o=t(98587),l=t(11804),s=t(17069),c=t(9176),u=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function d(e,n){var t=e.activeOpacity,r=e.delayPressIn,d=e.delayPressOut,p=e.delayLongPress,y=e.disabled,f=e.focusable,g=e.onLongPress,b=e.onPress,h=e.onPressIn,v=e.onPressOut,A=e.rejectResponderTermination,P=e.style,w=(0,o.A)(e,u),x=(0,a.useRef)(null),O=(0,l.A)(n,x),C=(0,a.useState)("0s"),E=C[0],S=C[1],N=(0,a.useState)(null),T=N[0],k=N[1],j=(0,a.useCallback)(((e,n)=>{k(e),S(n?n/1e3+"s":"0s")}),[k,S]),D=(0,a.useCallback)((e=>{j(null!=t?t:.2,e)}),[t,j]),R=(0,a.useCallback)((e=>{j(null,e)}),[j]),_=(0,a.useMemo)((()=>({cancelable:!A,disabled:y,delayLongPress:p,delayPressStart:r,delayPressEnd:d,onLongPress:g,onPress:b,onPressStart(e){var n=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;D(n?0:150),null!=h&&h(e)},onPressEnd(e){R(250),null!=v&&v(e)}})),[p,r,d,y,g,b,h,v,A,D,R]),V=(0,s.A)(x,_);return a.createElement(c.A,(0,i.A)({},w,V,{accessibilityDisabled:y,focusable:!y&&!1!==f,pointerEvents:y?"none":void 0,ref:O,style:[m.root,!y&&m.actionable,P,null!=T&&{opacity:T},{transitionDuration:E}]}))}var m=r.A.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),p=a.memo(a.forwardRef(d));p.displayName="TouchableOpacity";const y=p;var f=t(78506),g=a.forwardRef(((e,n)=>{var t=e.accessibilityLabel,r=e.color,i=e.disabled,o=e.onPress,l=e.testID,s=e.title;return a.createElement(y,{accessibilityLabel:t,accessibilityRole:"button",disabled:i,focusable:!i,onPress:o,ref:n,style:[b.button,r&&{backgroundColor:r},i&&b.buttonDisabled],testID:l},a.createElement(f.A,{style:[b.text,i&&b.textDisabled]},s))}));g.displayName="Button";var b=r.A.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const h=g}}]);