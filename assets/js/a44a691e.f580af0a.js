"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[4881],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),p=r,y=d["".concat(s,".").concat(p)]||d[p]||m[p]||i;return n?a.createElement(y,o(o({ref:t},u),{},{components:n})):a.createElement(y,o({ref:t},u))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},33701:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>D,contentTitle:()=>w,default:()=>R,frontMatter:()=>v,metadata:()=>k,toc:()=>x});var a=n(83117),r=n(67294),i=n(3905),o=n(67177),l=n(72400),s=n(28033),c=n(10758),u=n(65641),d=n(6328),m=n(68171);const p=1e3,y=500,f=["React","Native","Reanimated"];function h(){const[e,t]=(0,r.useState)(!1),n=(0,c.y)(0),a=(0,c.y)(0),i=(0,c.y)(0);return r.createElement(o.Z,{style:b.container},r.createElement(o.Z,{style:b.text},r.createElement(m.V,{style:{...b.label,opacity:n}},f[0]),r.createElement(m.V,{style:{...b.label,opacity:a}},f[1]),r.createElement(m.V,{style:{...b.label,opacity:i}},f[2])),r.createElement(l.Z,{title:e?"Hide":"Show",onPress:()=>{e?(i.value=(0,u.p)(0*y,(0,d.j)(0,{duration:p})),a.value=(0,u.p)(1*y,(0,d.j)(0,{duration:p})),n.value=(0,u.p)(2*y,(0,d.j)(0,{duration:p}))):(n.value=(0,u.p)(0*y,(0,d.j)(1,{duration:p})),a.value=(0,u.p)(1*y,(0,d.j)(1,{duration:p})),i.value=(0,u.p)(2*y,(0,d.j)(1,{duration:p}))),t(!e)}}))}const b=s.Z.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:"100%"},text:{flexDirection:"row"},tab:{paddingHorizontal:20,paddingVertical:10},label:{fontSize:42,textAlign:"center",fontWeight:"bold",marginRight:8},divider:{borderRightWidth:1,borderRightColor:"#ddd"},animatedBorder:{height:8,width:64,backgroundColor:"tomato",borderRadius:20}}),g="import React, { useState } from 'react';\nimport { Button, StyleSheet, View } from 'react-native';\nimport Animated, {\n  useSharedValue,\n  withDelay,\n  withTiming,\n} from 'react-native-reanimated';\n\nconst DURATION = 1000;\nconst DELAY = 500;\n\nconst text = ['React', 'Native', 'Reanimated'];\n\nexport default function App() {\n  const [isShown, setShown] = useState(false);\n\n  const opacity1 = useSharedValue(0);\n  const opacity2 = useSharedValue(0);\n  const opacity3 = useSharedValue(0);\n\n  // prettier-ignore\n  const show = () => {\n    if (isShown) {\n      opacity3.value = withDelay(0 * DELAY, withTiming(0, { duration: DURATION }));\n      opacity2.value = withDelay(1 * DELAY, withTiming(0, { duration: DURATION }));\n      opacity1.value = withDelay(2 * DELAY, withTiming(0, { duration: DURATION }));\n    } else {\n      opacity1.value = withDelay(0 * DELAY, withTiming(1, { duration: DURATION }));\n      opacity2.value = withDelay(1 * DELAY, withTiming(1, { duration: DURATION }));\n      opacity3.value = withDelay(2 * DELAY, withTiming(1, { duration: DURATION }));\n    }\n\n    setShown(!isShown);\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.text}>\n        <Animated.Text style={{ ...styles.label, opacity: opacity1 }}>\n          {text[0]}\n        </Animated.Text>\n        <Animated.Text style={{ ...styles.label, opacity: opacity2 }}>\n          {text[1]}\n        </Animated.Text>\n        <Animated.Text style={{ ...styles.label, opacity: opacity3 }}>\n          {text[2]}\n        </Animated.Text>\n      </View>\n      <Button title={isShown ? 'Hide' : 'Show'} onPress={show} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  text: {\n    flexDirection: 'row',\n  },\n  tab: {\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n  },\n  label: {\n    fontSize: 42,\n    textAlign: 'center',\n    fontWeight: 'bold',\n    marginRight: 8,\n  },\n  divider: {\n    borderRightWidth: 1,\n    borderRightColor: '#ddd',\n  },\n  animatedBorder: {\n    height: 8,\n    width: 64,\n    backgroundColor: 'tomato',\n    borderRadius: 20,\n  },\n});\n",v={sidebar_position:6},w="withDelay",k={unversionedId:"animations/withDelay",id:"animations/withDelay",title:"withDelay",description:"withDelay is an animation modifier that lets you start an animation with a delay.",source:"@site/docs/animations/withDelay.mdx",sourceDirName:"animations",slug:"/animations/withDelay",permalink:"/react-native-reanimated/docs/animations/withDelay",draft:!1,editUrl:"https://github.com/software-mansion/react-native-reanimated/tree/main/docs/docs/animations/withDelay.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"withRepeat",permalink:"/react-native-reanimated/docs/animations/withRepeat"},next:{title:"withClamp",permalink:"/react-native-reanimated/docs/animations/withClamp"}},D={},x=[{value:"Reference",id:"reference",level:2},{value:"Arguments",id:"arguments",level:3},{value:"<code>delayMs</code>",id:"delayms",level:4},{value:"<code>delayedAnimation</code>",id:"delayedanimation",level:4},{value:"<code>reduceMotion</code> <Optional />",id:"reducemotion-",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2},{value:"Platform compatibility",id:"platform-compatibility",level:2}],T=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)},O=T("Optional"),A=T("InteractiveExample"),P={toc:x},N="wrapper";function R(e){let{components:t,...n}=e;return(0,i.kt)(N,(0,a.Z)({},P,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"withdelay"},"withDelay"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"withDelay")," is an ",(0,i.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#animation-modifier"},"animation modifier")," that lets you start an animation with a delay."),(0,i.kt)("h2",{id:"reference"},"Reference"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"import { withDelay } from 'react-native-reanimated';\n\nfunction App() {\n  sv.value = withDelay(500, withTiming(0));\n  // ...\n}\n")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Type definitions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"type AnimatableValue = number | string | number[];\n\nfunction withDelay<T extends AnimatableValue>(\n  delayMs: number,\n  delayedAnimation: T,\n  reduceMotion?: ReduceMotion\n): T;\n\nenum ReduceMotion {\n  System = 'system',\n  Always = 'always',\n  Never = 'never',\n}\n"))),(0,i.kt)("h3",{id:"arguments"},"Arguments"),(0,i.kt)("h4",{id:"delayms"},(0,i.kt)("inlineCode",{parentName:"h4"},"delayMs")),(0,i.kt)("p",null,"Duration (in milliseconds) before the animation starts."),(0,i.kt)("h4",{id:"delayedanimation"},(0,i.kt)("inlineCode",{parentName:"h4"},"delayedAnimation")),(0,i.kt)("p",null,"Animation to delay."),(0,i.kt)("h4",{id:"reducemotion-"},(0,i.kt)("inlineCode",{parentName:"h4"},"reduceMotion")," ",(0,i.kt)(O,{mdxType:"Optional"})),(0,i.kt)("p",null,"A parameter that determines how the animation responds to the device's reduced motion accessibility setting."),(0,i.kt)("h3",{id:"returns"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"withDelay")," returns an ",(0,i.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#animation-object"},"animation object")," which holds the current state of the animation. It can be either assigned directly to a ",(0,i.kt)("a",{parentName:"p",href:"/docs/fundamentals/glossary#shared-value"},"shared value")," or can be used as a value for a style object returned from ",(0,i.kt)("a",{parentName:"p",href:"docs/core/useAnimatedStyle"},"useAnimatedStyle"),"."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(A,{src:g,component:(0,i.kt)(h,{mdxType:"DelayText"}),mdxType:"InteractiveExample"}),(0,i.kt)("h2",{id:"platform-compatibility"},"Platform compatibility"),(0,i.kt)("div",{className:"platform-compatibility"},(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Android"),(0,i.kt)("th",{parentName:"tr",align:null},"iOS"),(0,i.kt)("th",{parentName:"tr",align:null},"Web"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,i.kt)("td",{parentName:"tr",align:null},"\u2705"))))))}R.isMDXComponent=!0},87827:(e,t,n)=>{n.d(t,{o:()=>f});const a=4,r=.001,i=1e-7,o=10,l=11,s=1/(l-1);function c(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function d(e){return 3*e}function m(e,t,n){return((c(t,n)*e+u(t,n))*e+d(t))*e}function p(e,t,n){return 3*c(t,n)*e*e+2*u(t,n)*e+d(t)}function y(e,t,n,c){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("[Reanimated] Bezier x values must be in [0, 1] range.");if(e===t&&n===c)return function(e){return e};const u=new Array(l);for(let a=0;a<l;++a)u[a]=m(a*s,e,n);function d(t){let c=0,d=1;const y=l-1;for(;d!==y&&u[d]<=t;++d)c+=s;--d;const f=c+(t-u[d])/(u[d+1]-u[d])*s,h=p(f,e,n);return h>=r?function(e,t,n,r){for(let i=0;i<a;++i){const a=p(t,n,r);if(0===a)return t;t-=(m(t,n,r)-e)/a}return t}(t,f,e,n):0===h?f:function(e,t,n,a,r){let l,s,c=0;do{s=t+(n-t)/2,l=m(s,a,r)-e,l>0?n=s:t=s}while(Math.abs(l)>i&&++c<o);return s}(t,c,c+s,e,n)}return function(a){return e===t&&n===c?a:0===a?0:1===a?1:m(d(a),t,c)}}const f={linear:function(e){return e},ease:function(e){return y(.42,0,1,1)(e)},quad:function(e){return e*e},cubic:function(e){return e*e*e},poly:function(e){return t=>Math.pow(t,e)},sin:function(e){return 1-Math.cos(e*Math.PI/2)},circle:function(e){return 1-Math.sqrt(1-e*e)},exp:function(e){return Math.pow(2,10*(e-1))},elastic:function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*e)},back:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return t=>t*t*((e+1)*t-e)},bounce:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){const t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){const t=e-2.25/2.75;return 7.5625*t*t+.9375}const t=e-2.625/2.75;return 7.5625*t*t+.984375},bezier:function(e,t,n,a){return{factory:()=>y(e,t,n,a)}},bezierFn:function(e,t,n,a){return y(e,t,n,a)},steps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n=>{const a=Math.min(Math.max(n,0),1)*e;return t?Math.ceil(a)/e:Math.floor(a)/e}},in:function(e){return e},out:function(e){return t=>1-e(1-t)},inOut:function(e){return t=>t<.5?e(2*t)/2:1-e(2*(1-t))/2}}},65641:(e,t,n)=>{n.d(t,{p:()=>r});var a=n(76933);const r=function(e,t,n){return(0,a.oF)(t,(()=>{const r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){const{startTime:a,started:i,previousAnimation:o}=t,l=t.current;if(n-a>e||t.reduceMotion){i||(r.onStart(r,l,n,o),t.previousAnimation=null,t.started=!0);const e=r.onFrame(r,n);return t.current=r.current,e}if(o){const e=o.finished||o.onFrame(o,n);t.current=o.current,e&&(t.previousAnimation=null)}return!1},onStart:function(e,t,n,a){e.startTime=n,e.started=!1,e.current=t,e.previousAnimation=a===e?a.previousAnimation:a,void 0===r.reduceMotion&&(r.reduceMotion=e.reduceMotion)},current:r.current,callback:e=>{r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1,reduceMotion:(0,a.uh)(n)}}))}},6328:(e,t,n)=>{n.d(t,{j:()=>i});var a=n(87827),r=n(76933);const i=function(e,t,n){return(0,r.oF)(e,(()=>{const i={duration:300,easing:a.o.inOut(a.o.quad)};return t&&Object.keys(t).forEach((e=>i[e]=t[e])),{type:"timing",onFrame:function(e,t){const{toValue:n,startTime:a,startValue:r}=e,o=t-a;if(o>=i.duration)return e.startTime=0,e.current=n,!0;const l=e.easing(o/i.duration);return e.current=r+(n-r)*l,!1},onStart:function(t,n,a,r){r&&"timing"===r.type&&r.toValue===e&&r.startTime?(t.startTime=r.startTime,t.startValue=r.startValue):(t.startTime=a,t.startValue=n),t.current=n,"object"==typeof i.easing?t.easing=i.easing.factory():t.easing=i.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:()=>0,current:e,callback:n,reduceMotion:(0,r.uh)(null==t?void 0:t.reduceMotion)}}))}},68171:(e,t,n)=>{n.d(t,{V:()=>r});var a=n(24404);const r=(0,n(99435).F)(a.Z)},72400:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(67294),r=n(28033),i=n(88548),o=n(24404),l=a.forwardRef(((e,t)=>{var n=e.accessibilityLabel,r=e.color,l=e.disabled,c=e.onPress,u=e.testID,d=e.title;return a.createElement(i.Z,{accessibilityLabel:n,accessibilityRole:"button",disabled:l,focusable:!l,onPress:c,ref:t,style:[s.button,r&&{backgroundColor:r},l&&s.buttonDisabled],testID:u},a.createElement(o.Z,{style:[s.text,l&&s.textDisabled]},d))}));l.displayName="Button";var s=r.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const c=l},88548:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(83117),r=n(80102),i=n(67294),o=n(16528),l=n(94119),s=n(28033),c=n(67177),u=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function d(e,t){var n=e.activeOpacity,s=e.delayPressIn,d=e.delayPressOut,p=e.delayLongPress,y=e.disabled,f=e.focusable,h=e.onLongPress,b=e.onPress,g=e.onPressIn,v=e.onPressOut,w=e.rejectResponderTermination,k=e.style,D=(0,r.Z)(e,u),x=(0,i.useRef)(null),T=(0,o.Z)(t,x),O=(0,i.useState)("0s"),A=O[0],P=O[1],N=(0,i.useState)(null),R=N[0],S=N[1],M=(0,i.useCallback)(((e,t)=>{S(e),P(t?t/1e3+"s":"0s")}),[S,P]),E=(0,i.useCallback)((e=>{M(null!=n?n:.2,e)}),[n,M]),j=(0,i.useCallback)((e=>{M(null,e)}),[M]),C=(0,i.useMemo)((()=>({cancelable:!w,disabled:y,delayLongPress:p,delayPressStart:s,delayPressEnd:d,onLongPress:h,onPress:b,onPressStart(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;E(t?0:150),null!=g&&g(e)},onPressEnd(e){j(250),null!=v&&v(e)}})),[p,s,d,y,h,b,g,v,w,E,j]),V=(0,l.Z)(x,C);return i.createElement(c.Z,(0,a.Z)({},D,V,{accessibilityDisabled:y,focusable:!y&&!1!==f,pointerEvents:y?"none":void 0,ref:T,style:[m.root,!y&&m.actionable,k,null!=R&&{opacity:R},{transitionDuration:A}]}))}var m=s.Z.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),p=i.memo(i.forwardRef(d));p.displayName="TouchableOpacity";const y=p}}]);